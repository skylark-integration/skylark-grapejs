/**
 * skylark-grapejs - A version of garpejs that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-grapejs/
 * @license MIT
 */
define(["skylark-langx/langx","skylark-jquery","./config/config","./model/Editor","./view/EditorView"],function(e,t,r,n,s){"use strict";return(g={})=>{const o=e.mixin({},r,g);o.pStylePrefix=o.stylePrefix;var a=new n(o),i=new s({model:a,config:o});return{$:t,editor:a,I18n:a.get("I18n"),DomComponents:a.get("DomComponents"),LayerManager:a.get("LayerManager"),CssComposer:a.get("CssComposer"),StorageManager:a.get("StorageManager"),AssetManager:a.get("AssetManager"),BlockManager:a.get("BlockManager"),TraitManager:a.get("TraitManager"),SelectorManager:a.get("SelectorManager"),CodeManager:a.get("CodeManager"),Commands:a.get("Commands"),Keymaps:a.get("Keymaps"),Modal:a.get("Modal"),Panels:a.get("Panels"),StyleManager:a.get("StyleManager"),Canvas:a.get("Canvas"),UndoManager:a.get("UndoManager"),DeviceManager:a.get("DeviceManager"),RichTextEditor:a.get("RichTextEditor"),Parser:a.get("Parser"),Utils:a.get("Utils"),Config:a.get("Config"),init(){return a.init(this),a.on("loaded",()=>{this.UndoManager.clear(),a.get("modules").forEach(module=>{module.postRender&&module.postRender(i)})}),this},getConfig:e=>a.getConfig(e),getHtml:e=>a.getHtml(e),getCss:e=>a.getCss(e),getJs:()=>a.getJs(),getComponents:()=>a.get("DomComponents").getComponents(),getWrapper:()=>a.get("DomComponents").getWrapper(),setComponents(e){return a.setComponents(e),this},addComponents(e,t){return this.getWrapper().append(e,t)},getStyle:()=>a.get("CssComposer").getAll(),setStyle(e){return a.setStyle(e),this},getSelected:()=>a.getSelected(),getSelectedAll:()=>a.getSelectedAll(),getSelectedToStyle(){let e=a.getSelected();if(e)return this.StyleManager.getModelToStyle(e)},select(e,t){return a.setSelected(e,t),this},selectAdd(e){return a.addSelected(e),this},selectRemove(e){return a.removeSelected(e),this},selectToggle(e){return a.toggleSelected(e),this},setDevice(e){return a.set("device",e),this},getDevice:()=>a.get("device"),runCommand:(e,t={})=>a.get("Commands").run(e,t),stopCommand:(e,t={})=>a.get("Commands").stop(e,t),store:e=>a.store(e),load:e=>a.load(e),getContainer:()=>o.el,getDirtyCount:()=>a.getDirtyCount(),refresh(){a.refreshCanvas()},setCustomRte(e){this.RichTextEditor.customRte=e},setCustomParserCss(e){return this.Parser.getConfig().parserCss=e,this},setDragMode(e){return a.setDragMode(e),this},log(e,t={}){return a.log(e,t),this},t:(...e)=>a.t(...e),on(e,t){return a.on(e,t),this},once(e,t){return a.once(e,t),this},off(e,t){return a.off(e,t),this},trigger(e){return a.trigger.apply(a,arguments),this},destroy:()=>a.destroyAll(),getEl:()=>i.el,getModel:()=>a,render:()=>(i.render(),i.el)}}});
//# sourceMappingURL=../sourcemaps/editor/index.js.map
