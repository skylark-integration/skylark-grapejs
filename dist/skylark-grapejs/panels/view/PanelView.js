/**
 * skylark-grapejs - A version of garpejs that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-grapejs/
 * @license MIT
 */
define(["skylark-backbone","./ButtonsView"],function(t,e){"use strict";return t.View.extend({initialize(t){const e=t.config||{},i=this.model;this.config=e,this.pfx=e.stylePrefix||"",this.ppfx=e.pStylePrefix||"",this.buttons=i.get("buttons"),this.className=this.pfx+"panel",this.id=this.pfx+i.get("id"),this.listenTo(i,"change:appendContent",this.appendContent),this.listenTo(i,"change:content",this.updateContent),this.listenTo(i,"change:visible",this.toggleVisible),i.view=this},appendContent(){this.$el.append(this.model.get("appendContent"))},updateContent(){this.$el.html(this.model.get("content"))},toggleVisible(){this.model.get("visible")?this.$el.removeClass(`${this.ppfx}hidden`):this.$el.addClass(`${this.ppfx}hidden`)},attributes(){return this.model.get("attributes")},initResize(){const t=this.config.em,e=t?t.get("Editor"):"",i=this.model.get("resizable");if(e&&i){var s,n,o,h=!0===i?[1,1,1,1]:i,l=h.length,a=0;2==l?(s=h[0],o=h[0],n=h[1],a=h[1]):4==l&&(s=h[0],n=h[1],o=h[2],a=h[3]);var r=e.Utils.Resizer.init({tc:s,cr:n,bc:o,cl:a,tl:0,tr:0,bl:0,br:0,appendTo:this.el,silentFrames:1,avoidContainerUpdate:1,prefix:e.getConfig().stylePrefix,onEnd(){t&&t.trigger("change:canvasOffset")},posFetcher:(t,{target:e})=>{const i=t.style,s=r.getConfig(),n=s.keyWidth,o=s.keyHeight,h=t.getBoundingClientRect(),l="container"==e,a=i[n],d=i[o];return{left:0,top:0,width:a&&!l?parseFloat(a):h.width,height:d&&!l?parseFloat(d):h.height}},...i});r.blur=(()=>{}),r.focus(this.el)}},render(){const t=this.$el,i=this.ppfx,s=`${this.className} ${this.id} ${i}one-bg ${i}two-color`;if(t.addClass(s),this.buttons.length){var n=new e({collection:this.buttons,config:this.config});t.append(n.render().el)}return t.append(this.model.get("content")),this}})});
//# sourceMappingURL=../../sourcemaps/panels/view/PanelView.js.map
