/**
 * skylark-grapejs - A version of garpejs that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-grapejs/
 * @license MIT
 */
define(["skylark-langx","skylark-underscore","./Component"],function(t,e,a){"use strict";const r='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"';return a.extend({defaults:t.mixin({},a.prototype.defaults,{type:"image",tagName:"img",void:1,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:`<svg ${r}>\n        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>\n      </svg>`,fallback:`<svg ${r}>\n        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>\n      </svg>`,file:""}),initialize(t,e){a.prototype.initialize.apply(this,arguments);var r=this.get("attributes");r.src&&this.set("src",r.src)},initToolbar(...t){a.prototype.initToolbar.apply(this,t);const e=this.em;if(e){if(e.get("Commands").has("image-editor")){let t=!1;var r=this.get("toolbar");for(let e=0;e<r.length;e++)if("image-editor"===r[e].command){t=!0;break}t||(r.push({attributes:{class:"fa fa-pencil"},command:"image-editor"}),this.set("toolbar",r))}}},getAttrToHTML(...t){const e=a.prototype.getAttrToHTML.apply(this,t),r=this.getSrcResult();return r&&(e.src=r),e},getSrcResult(t={}){const e=this.get(t.fallback?"fallback":"src")||"";let a=e;return e&&"<svg"===e.substr(0,4)&&(a=`data:image/svg+xml;base64,${window.btoa(e)}`),a},isDefaultSrc(){return this.get("src")===e.result(this,"defaults").src},parseUri(t){var e=document.createElement("a");e.href=t;for(var a={},r=e.search.substring(1).split("&"),s=0;s<r.length;s++){var i=r[s].split("="),o=decodeURIComponent(i[0]);o&&(a[o]=decodeURIComponent(i[1]))}return{hostname:e.hostname,pathname:e.pathname,protocol:e.protocol,search:e.search,hash:e.hash,port:e.port,query:a}}},{isComponent(t){var e="";return"IMG"==t.tagName&&(e={type:"image"}),e}})});
//# sourceMappingURL=../../sourcemaps/dom_components/model/ComponentImage.js.map
