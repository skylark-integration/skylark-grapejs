/**
 * skylark-grapejs - A version of garpejs that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-grapejs/
 * @license MIT
 */
define(["skylark-backbone"],function(t){"use strict";return t.View.extend({template:({pfx:t,ppfx:e,content:i,title:n})=>`<div class="${t}dialog ${e}one-bg ${e}two-color">\n      <div class="${t}header">\n        <div class="${t}title">${n}</div>\n        <div class="${t}btn-close" data-close-modal>&Cross;</div>\n      </div>\n      <div class="${t}content">\n        <div id="${t}c">${i}</div>\n        <div style="clear:both"></div>\n      </div>\n    </div>\n    <div class="${t}collector" style="display: none"></div>`,events:{click:"onClick","click [data-close-modal]":"hide"},initialize(t){const e=this.model,i=t.config||{},n=i.stylePrefix||"";this.config=i,this.pfx=n,this.ppfx=i.pStylePrefix||"",this.listenTo(e,"change:open",this.updateOpen),this.listenTo(e,"change:title",this.updateTitle),this.listenTo(e,"change:content",this.updateContent)},onClick(t){this.config.backdrop&&t.target===this.el&&this.hide()},getCollector(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},getContent(){const t=this.pfx;return this.$content||(this.$content=this.$el.find(`.${t}content #${t}c`)),this.$content},getTitle(){return this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),this.$title.get(0)},updateContent(){var t=this.getContent();const e=t.children(),i=this.getCollector(),n=this.model.get("content");e.length&&i.append(e),t.empty().append(n)},updateTitle(){var t=this.getTitle();t&&(t.innerHTML=this.model.get("title"))},updateOpen(){this.el.style.display=this.model.get("open")?"":"none"},hide(){this.model.set("open",0)},show(){this.model.set("open",1)},render(){const t=this.$el,e=this.pfx,i=(this.ppfx,this.model.toJSON());return i.pfx=this.pfx,i.ppfx=this.ppfx,t.html(this.template(i)),t.attr("class",`${e}container`),this.updateOpen(),this}})});
//# sourceMappingURL=../../sourcemaps/modal_dialog/view/ModalView.js.map
