/**
 * skylark-grapejs - A version of garpejs that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-grapejs/
 * @license MIT
 */
define(["skylark-backbone","skylark-underscore","../../utils/mixins"],function(t,e,i){"use strict";const a=t.$;return{getOffsetMethod:t=>"get"+(t||"")+"OffsetViewerEl",run(t,s,p){var d=p||{},l=d.state||"",o=t.getConfig();const h=this.em.getZoomDecimal(),r=d.el||"";if(!o.showOffsets||i.isTextNode(r)||!o.showOffsetsSelected&&"Fixed"==l)return void t.stopCommand(this.id,p);var g=t.Canvas,n={...d.elPos||g.getElementPos(r)};e.isUndefined(d.top)||(n.top=d.top),e.isUndefined(d.left)||(n.left=d.left);var f=window.getComputedStyle(r),v=this.ppfx,c=l+"State",m=g[this.getOffsetMethod(l)](p.view);m.style.opacity="";let x=this["marginT"+l],y=this["marginB"+l],u=this["marginL"+l],w=this["marginR"+l],C=this["padT"+l],$=this["padB"+l],F=this["padL"+l],S=this["padR"+l];if(m.childNodes.length&&(this[c]="1",x=m.querySelector("[data-offset-m-t]"),y=m.querySelector("[data-offset-m-b]"),u=m.querySelector("[data-offset-m-l]"),w=m.querySelector("[data-offset-m-r]"),C=m.querySelector("[data-offset-p-t]"),$=m.querySelector("[data-offset-p-b]"),F=m.querySelector("[data-offset-p-l]"),S=m.querySelector("[data-offset-p-r]")),!this[c]){var q=l.toLowerCase(),L=q+"margin-v",T=q+"padding-v",b=a(`<div class="${v}marginName">`).get(0),B=a(`<div class="${v}paddingName">`).get(0);const t=`${v+L+"-el"} ${v+L}`,e=`${v+T+"-el"} ${v+T}`;x=a(`<div class="${t}-top"></div>`).get(0),y=a(`<div class="${t}-bottom"></div>`).get(0),u=a(`<div class="${t}-left"></div>`).get(0),w=a(`<div class="${t}-right"></div>`).get(0),C=a(`<div class="${e}-top"></div>`).get(0),$=a(`<div class="${e}-bottom"></div>`).get(0),F=a(`<div class="${e}-left"></div>`).get(0),S=a(`<div class="${e}-right"></div>`).get(0),this["marginT"+l]=x,this["marginB"+l]=y,this["marginL"+l]=u,this["marginR"+l]=w,this["padT"+l]=C,this["padB"+l]=$,this["padL"+l]=F,this["padR"+l]=S,b.appendChild(x),b.appendChild(y),b.appendChild(u),b.appendChild(w),B.appendChild(C),B.appendChild($),B.appendChild(F),B.appendChild(S),m.appendChild(b),m.appendChild(B),this[c]="1"}var O=parseFloat(f.marginLeft.replace("px",""))*h,R=parseFloat(f.marginRight.replace("px",""))*h,k=parseFloat(f.marginTop.replace("px",""))*h,N=parseFloat(f.marginBottom.replace("px",""))*h,M=x.style,E=y.style,P=u.style,U=w.style,D=C.style,V=$.style,Z=F.style,j=S.style,z=parseFloat(n.left),A=parseFloat(f.width)*h+"px";M.height=k+"px",M.width=A,M.top=n.top-k+"px",M.left=z+"px",E.height=N+"px",E.width=A,E.top=n.top+n.height+"px",E.left=z+"px";var G=n.height+k+N+"px",H=n.top-k+"px";P.height=G,P.width=O+"px",P.top=H,P.left=z-O+"px",U.height=G,U.width=R+"px",U.top=H,U.left=z+n.width+"px";var I=parseFloat(f.paddingTop)*h;D.height=I+"px";var J=parseFloat(f.paddingBottom)*h;V.height=J+"px";var K=n.height-J-I+"px",Q=n.top+I+"px";Z.height=K,Z.width=parseFloat(f.paddingLeft)*h+"px",Z.top=Q;var W=parseFloat(f.paddingRight)*h;j.height=K,j.width=W+"px",j.top=Q},stop(t,e,i={}){var a=(i||{}).state||"",s=this.getOffsetMethod(a);t.Canvas[s](i.view).style.opacity=0}}});
//# sourceMappingURL=../../sourcemaps/commands/view/ShowOffset.js.map
