/**
 * skylark-grapejs - A version of garpejs that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-grapejs/
 * @license MIT
 */
define(["skylark-backbone","skylark-underscore","./PropertiesView"],function(e,t,i){"use strict";return e.View.extend({template:t.template('\n  <div class="<%= pfx %>title" data-sector-title>\n    <i id="<%= pfx %>caret" class="fa"></i>\n    <%= label %>\n  </div>'),events:{"click [data-sector-title]":"toggle"},initialize(e){this.config=e.config||{},this.em=this.config.em,this.pfx=this.config.stylePrefix||"",this.target=e.target||{},this.propTarget=e.propTarget||{},this.caretR="fa-caret-right",this.caretD="fa-caret-down";const t=this.model;this.listenTo(t,"change:open",this.updateOpen),this.listenTo(t,"updateVisibility",this.updateVisibility),this.listenTo(t,"destroy remove",this.remove)},updateVisibility(){var e;this.model.get("properties").each(t=>{t.get("visible")&&(e=1)}),this.el.style.display=e?"block":"none"},updateOpen(){this.model.get("open")?this.show():this.hide()},show(){this.$el.addClass(this.pfx+"open"),this.getPropertiesEl().style.display="",this.$caret.removeClass(this.caretR).addClass(this.caretD)},hide(){this.$el.removeClass(this.pfx+"open"),this.getPropertiesEl().style.display="none",this.$caret.removeClass(this.caretD).addClass(this.caretR)},getPropertiesEl(){return this.$el.find(`.${this.pfx}properties`).get(0)},toggle(e){var t=this.model.get("open")?0:1;this.model.set("open",t)},render(){const{pfx:e,model:t,em:i,$el:s}=this,{id:r,name:a}=t.attributes,l=i&&i.t(`styleManager.sectors.${r}`)||a;return s.html(this.template({pfx:e,label:l})),this.$caret=s.find(`#${e}caret`),this.renderProperties(),s.attr("class",`${e}sector ${e}sector__${r} no-select`),this.updateOpen(),this},renderProperties(){var e=this.model.get("properties");if(e){var t=new i({collection:e,target:this.target,propTarget:this.propTarget,config:this.config});this.$el.append(t.render().el)}}})});
//# sourceMappingURL=../../sourcemaps/style_manager/view/SectorView.js.map
