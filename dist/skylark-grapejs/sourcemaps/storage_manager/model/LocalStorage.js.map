{"version":3,"sources":["storage_manager/model/LocalStorage.js"],"names":["define","Backbone","Model","extend","defaults","checkLocal","[object Object]","data","clb","key","this","checkStorageEnvironment","localStorage","setItem","keys","result","i","len","length","value","getItem","removeItem","get","console","warn"],"mappings":";;;;;;;AAAAA,QAAQ,oBAAqB,SAAUC,GACnC,aACA,OAAOA,EAASC,MAAMC,QAClBC,UAAYC,YAAY,GACxBC,MAAMC,EAAMC,GAER,IAAK,IAAIC,KADTC,KAAKC,0BACWJ,EACZK,aAAaC,QAAQJ,EAAKF,EAAKE,IACjB,mBAAPD,GACPA,KAGRF,KAAKQ,EAAMN,GACPE,KAAKC,0BAEL,IADA,IAAII,KACKC,EAAI,EAAGC,EAAMH,EAAKI,OAAQF,EAAIC,EAAKD,IAAK,CAC7C,IAAIG,EAAQP,aAAaQ,QAAQN,EAAKE,IAClCG,IACAJ,EAAOD,EAAKE,IAAMG,GAK1B,MAHkB,mBAAPX,GACPA,EAAIO,GAEDA,GAEXT,OAAOQ,GACHJ,KAAKC,0BACL,IAAK,IAAIK,EAAI,EAAGC,EAAMH,EAAKI,OAAQF,EAAIC,EAAKD,IACxCJ,aAAaS,WAAWP,EAAKE,KAErCV,0BACQI,KAAKY,IAAI,gBAAkBV,cAC3BW,QAAQC,KAAK","file":"../../../storage_manager/model/LocalStorage.js","sourcesContent":["define(['skylark-backbone'], function (Backbone) {\n    'use strict';\n    return Backbone.Model.extend({\n        defaults: { checkLocal: true },\n        store(data, clb) {\n            this.checkStorageEnvironment();\n            for (var key in data)\n                localStorage.setItem(key, data[key]);\n            if (typeof clb == 'function') {\n                clb();\n            }\n        },\n        load(keys, clb) {\n            this.checkStorageEnvironment();\n            var result = {};\n            for (var i = 0, len = keys.length; i < len; i++) {\n                var value = localStorage.getItem(keys[i]);\n                if (value)\n                    result[keys[i]] = value;\n            }\n            if (typeof clb == 'function') {\n                clb(result);\n            }\n            return result;\n        },\n        remove(keys) {\n            this.checkStorageEnvironment();\n            for (var i = 0, len = keys.length; i < len; i++)\n                localStorage.removeItem(keys[i]);\n        },\n        checkStorageEnvironment() {\n            if (this.get('checkLocal') && !localStorage)\n                console.warn(\"Your browser doesn't support localStorage\");\n        }\n    });\n});"]}