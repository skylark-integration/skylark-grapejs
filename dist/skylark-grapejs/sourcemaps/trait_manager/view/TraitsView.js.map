{"version":3,"sources":["trait_manager/view/TraitsView.js"],"names":["define","DomainViews","TraitView","TraitSelectView","TraitCheckboxView","TraitNumberView","TraitColorView","TraitButtonView","extend","ns","itemView","reuseView","itemsView","text","number","select","checkbox","color","button","[object Object]","o","config","this","em","editor","pfx","stylePrefix","ppfx","pStylePrefix","className","listenTo","updatedCollection","comp","getSelected","el","collection","get","render"],"mappings":";;;;;;;AAAAA,QACI,mCACA,cACA,oBACA,sBACA,oBACA,mBACA,qBACD,SAAUC,EAAaC,EAAWC,EAAiBC,EAAmBC,EAAiBC,EAAgBC,GACtG,aACA,OAAON,EAAYO,QACfC,GAAI,SACJC,SAAUR,EACVS,UAAW,EACXC,WACIC,KAAMX,EACNY,OAAQT,EACRU,OAAQZ,EACRa,SAAUZ,EACVa,MAAOX,EACPY,OAAQX,GAEZY,WAAWC,MACP,MAAMC,EAASD,EAAEC,WACjBC,KAAKD,OAASA,EACdC,KAAKC,GAAKH,EAAEI,OACZF,KAAKG,IAAMJ,EAAOK,aAAe,GACjCJ,KAAKK,KAAON,EAAOO,cAAgB,GACnCN,KAAKO,UAAYP,KAAKG,IAAM,SAE5BH,KAAKQ,SAASR,KAAKC,GADF,oBACgBD,KAAKS,mBACtCT,KAAKS,qBAETZ,oBACI,MAAMQ,EAAOL,KAAKK,KACZK,EAAOV,KAAKC,GAAGU,cACrBX,KAAKY,GAAGL,aAAgBP,KAAKO,aAAeF,WAAgBA,aAC5DL,KAAKa,WAAaH,EAAOA,EAAKI,IAAI,aAClCd,KAAKe","file":"../../../trait_manager/view/TraitsView.js","sourcesContent":["define([\n    'domain_abstract/view/DomainViews',\n    './TraitView',\n    './TraitSelectView',\n    './TraitCheckboxView',\n    './TraitNumberView',\n    './TraitColorView',\n    './TraitButtonView'\n], function (DomainViews, TraitView, TraitSelectView, TraitCheckboxView, TraitNumberView, TraitColorView, TraitButtonView) {\n    'use strict';\n    return DomainViews.extend({\n        ns: 'Traits',\n        itemView: TraitView,\n        reuseView: 1,\n        itemsView: {\n            text: TraitView,\n            number: TraitNumberView,\n            select: TraitSelectView,\n            checkbox: TraitCheckboxView,\n            color: TraitColorView,\n            button: TraitButtonView\n        },\n        initialize(o = {}) {\n            const config = o.config || {};\n            this.config = config;\n            this.em = o.editor;\n            this.pfx = config.stylePrefix || '';\n            this.ppfx = config.pStylePrefix || '';\n            this.className = this.pfx + 'traits';\n            const toListen = 'component:toggled';\n            this.listenTo(this.em, toListen, this.updatedCollection);\n            this.updatedCollection();\n        },\n        updatedCollection() {\n            const ppfx = this.ppfx;\n            const comp = this.em.getSelected();\n            this.el.className = `${ this.className } ${ ppfx }one-bg ${ ppfx }two-color`;\n            this.collection = comp ? comp.get('traits') : [];\n            this.render();\n        }\n    });\n});"]}