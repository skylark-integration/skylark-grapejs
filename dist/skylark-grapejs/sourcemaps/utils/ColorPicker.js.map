{"version":3,"sources":["utils/ColorPicker.js"],"names":["define","$","undefined","defaultOpts","beforeShow","noop","move","change","show","hide","color","flat","showInput","allowEmpty","showButtons","clickoutFiresChange","showInitial","showPalette","showPaletteOnly","hideAfterPaletteSelect","togglePaletteOnly","showSelectionPalette","localStorageKey","appendTo","maxSelectionSize","cancelText","chooseText","togglePaletteMoreText","togglePaletteLessText","clearText","noColorSelectedText","preferredFormat","className","containerClassName","replacerClassName","showAlpha","theme","palette","selectionPalette","disabled","offset","spectrums","IE","exec","window","navigator","userAgent","rgbaSupport","contains","str","substr","indexOf","style","document","createElement","cssText","backgroundColor","replaceInput","join","markup","gradientFix","i","paletteTemplate","p","opts","html","length","current","tiny","tinycolor","c","toHsl","l","equals","formattedString","toString","swatchStyle","toRgbString","toFilter","push","append","attr","spectrum","element","o","func","wait","debounce","timeout","callbackContext","extend","callbacks","bind","instanceOptions","resize","reflow","context","this","args","arguments","clearTimeout","setTimeout","apply","visible","isDragging","dragWidth","dragHeight","dragHelperHeight","slideHeight","alphaWidth","alphaSlideHelperWidth","slideHelperHeight","currentHue","currentSaturation","currentValue","currentAlpha","paletteArray","paletteLookup","slice","draggingClass","shiftMovementDirection","doc","ownerDocument","boundElement","body","container","addClass","pickerContainer","find","dragger","dragHelper","slider","slideHelper","alphaSliderInner","alphaSlider","alphaSlideHelper","textInput","paletteContainer","initialColorContainer","cancelButton","clearButton","chooseButton","toggleButton","isInput","is","isInputTypeColor","inputTypeColorSupport","shouldReplace","replacer","offsetElement","previewElement","initialColor","val","colorOnShow","currentPreferredFormat","isEmpty","applyOptions","text","isArray","j","rgb","toggleClass","updateSelectionPaletteFromStorage","localStorage","oldPalette","split","each","addColorToSelectionPalette","e","inArray","shift","drawPalette","currentColor","get","map","unique","reverse","getUniqueSelectionPalette","drawInitial","initial","dragStart","trigger","dragStop","removeClass","setFromTextInput","value","isValid","set","updateOriginalInput","toggle","event","Event","isDefaultPrevented","hideAll","$doc","onkeydown","clickout","updateUI","keyCode","button","revert","unbind","ignoreFormatChange","newColor","newHsv","toHsv","h","s","v","a","getFormat","fromRatio","Math","round","format","updateHelperLocations","flatColor","css","toHexString","realColor","displayColor","realHex","realRgb","alpha","toRgb","realAlpha","gradient","gradientType","dragX","dragY","max","min","top","left","alphaX","slideY","fireCallback","hasChanged","picker","input","dpWidth","dpHeight","inputHeight","docElem","cW","cH","scL","scT","viewWidth","viewHeight","width","height","outerWidth","outerHeight","documentElement","clientWidth","clientHeight","scrollLeft","scrollTop","abs","disable","after","parent","paletteElementClick","data","ignore","target","closest","stopPropagation","preventDefault","click","keydown","hasClass","draggable","shiftKey","parseFloat","oldDragX","oldDragY","furtherFromX","setValue","paletteEvent","delegate","initialize","spect","option","optionName","optionValue","enable","coord","destroy","remove","id","obj","Array","prototype","call","concat","onmove","onstart","onstop","dragging","maxHeight","maxWidth","hasTouch","duringDragEvents","prevent","returnValue","documentMode","stop","t0","touches","pageX","pageY","which","fn","extra","method","Error","removeData","load","loadOpts","defaults","_cachedResult","colorInput","type","localization","palettes","processNativeColorInputs","colorInputs","trimLeft","trimRight","tinyCounter","math","mathRound","mathMin","mathMax","mathRandom","random","r","g","b","ok","replace","toLowerCase","match","named","names","matchers","rgba","hsl","hsla","hsv","hsva","hex8","parseIntFromHex","hex6","hex3","stringInputToObject","hasOwnProperty","bound01","String","convertToPercentage","floor","f","q","t","mod","hsvToRgb","hue2rgb","hslToRgb","boundAlpha","inputToRGB","_originalInput","_r","_g","_b","_a","_roundA","_format","_gradientType","_ok","_tc_id","rgbToHsl","d","rgbToHsv","rgbToHex","allow3Char","hex","pad2","charAt","rgbaToHex","desaturate","amount","clamp01","saturate","greyscale","lighten","brighten","darken","spin","hue","complement","triad","tetrad","splitcomplement","analogous","results","slices","part","ret","monochromatic","modification","isDark","getBrightness","isLight","getOriginalInput","getAlpha","setAlpha","toHsvString","toHslString","toHex","toHex8","toHex8String","toPercentageRgb","toPercentageRgbString","toName","hexNames","secondColor","hex8String","secondHex8String","formatSet","hasAlpha","_applyModification","_applyCombination","color1","color2","mix","w1","rgb1","rgb2","w","w2","readability","c1","c2","brightnessA","brightnessB","colorDiff","brightness","isReadable","mostReadable","baseColor","colorList","bestColor","bestScore","bestIsReadable","readable","score","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","burntsienna","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","flipped","flip","isNaN","n","isOnePointZero","processPercent","isPercentage","parseInt","CSS_UNIT","PERMISSIVE_MATCH3","PERMISSIVE_MATCH4","RegExp"],"mappings":"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","file":"../../utils/ColorPicker.js","sourcesContent":["define(function () {\n    'use strict';\n    return function ($, undefined) {\n        'use strict';\n        var defaultOpts = {\n                beforeShow: noop,\n                move: noop,\n                change: noop,\n                show: noop,\n                hide: noop,\n                color: false,\n                flat: false,\n                showInput: false,\n                allowEmpty: false,\n                showButtons: true,\n                clickoutFiresChange: true,\n                showInitial: false,\n                showPalette: false,\n                showPaletteOnly: false,\n                hideAfterPaletteSelect: false,\n                togglePaletteOnly: false,\n                showSelectionPalette: true,\n                localStorageKey: false,\n                appendTo: 'body',\n                maxSelectionSize: 7,\n                cancelText: 'cancel',\n                chooseText: 'choose',\n                togglePaletteMoreText: 'more',\n                togglePaletteLessText: 'less',\n                clearText: 'Clear Color Selection',\n                noColorSelectedText: 'No Color Selected',\n                preferredFormat: false,\n                className: '',\n                containerClassName: '',\n                replacerClassName: '',\n                showAlpha: false,\n                theme: 'sp-light',\n                palette: [[\n                        '#ffffff',\n                        '#000000',\n                        '#ff0000',\n                        '#ff8000',\n                        '#ffff00',\n                        '#008000',\n                        '#0000ff',\n                        '#4b0082',\n                        '#9400d3'\n                    ]],\n                selectionPalette: [],\n                disabled: false,\n                offset: null\n            }, spectrums = [], IE = !!/msie/i.exec(window.navigator.userAgent), rgbaSupport = function () {\n                function contains(str, substr) {\n                    return !!~('' + str).indexOf(substr);\n                }\n                var elem = document.createElement('div');\n                var style = elem.style;\n                style.cssText = 'background-color:rgba(0,0,0,.5)';\n                return contains(style.backgroundColor, 'rgba') || contains(style.backgroundColor, 'hsla');\n            }(), replaceInput = [\n                \"<div class='sp-replacer'>\",\n                \"<div class='sp-preview'><div class='sp-preview-inner'></div></div>\",\n                \"<div class='sp-dd'>&#9660;</div>\",\n                '</div>'\n            ].join(''), markup = function () {\n                var gradientFix = '';\n                if (IE) {\n                    for (var i = 1; i <= 6; i++) {\n                        gradientFix += \"<div class='sp-\" + i + \"'></div>\";\n                    }\n                }\n                return [\n                    \"<div class='sp-container sp-hidden'>\",\n                    \"<div class='sp-palette-container'>\",\n                    \"<div class='sp-palette sp-thumb sp-cf'></div>\",\n                    \"<div class='sp-palette-button-container sp-cf'>\",\n                    \"<button type='button' class='sp-palette-toggle'></button>\",\n                    '</div>',\n                    '</div>',\n                    \"<div class='sp-picker-container'>\",\n                    \"<div class='sp-top sp-cf'>\",\n                    \"<div class='sp-fill'></div>\",\n                    \"<div class='sp-top-inner'>\",\n                    \"<div class='sp-color'>\",\n                    \"<div class='sp-sat'>\",\n                    \"<div class='sp-val'>\",\n                    \"<div class='sp-dragger'></div>\",\n                    '</div>',\n                    '</div>',\n                    '</div>',\n                    \"<div class='sp-clear sp-clear-display'>\",\n                    '</div>',\n                    \"<div class='sp-hue'>\",\n                    \"<div class='sp-slider'></div>\",\n                    gradientFix,\n                    '</div>',\n                    '</div>',\n                    \"<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>\",\n                    '</div>',\n                    \"<div class='sp-input-container sp-cf'>\",\n                    \"<input class='sp-input' type='text' spellcheck='false'  />\",\n                    '</div>',\n                    \"<div class='sp-initial sp-thumb sp-cf'></div>\",\n                    \"<div class='sp-button-container sp-cf'>\",\n                    \"<a class='sp-cancel' href='#'></a>\",\n                    \"<button type='button' class='sp-choose'></button>\",\n                    '</div>',\n                    '</div>',\n                    '</div>'\n                ].join('');\n            }();\n        function paletteTemplate(p, color, className, opts) {\n            var html = [];\n            for (var i = 0; i < p.length; i++) {\n                var current = p[i];\n                if (current) {\n                    var tiny = tinycolor(current);\n                    var c = tiny.toHsl().l < 0.5 ? 'sp-thumb-el sp-thumb-dark' : 'sp-thumb-el sp-thumb-light';\n                    c += tinycolor.equals(color, current) ? ' sp-thumb-active' : '';\n                    var formattedString = tiny.toString(opts.preferredFormat || 'rgb');\n                    var swatchStyle = rgbaSupport ? 'background-color:' + tiny.toRgbString() : 'filter:' + tiny.toFilter();\n                    html.push('<span title=\"' + formattedString + '\" data-color=\"' + tiny.toRgbString() + '\" class=\"' + c + '\"><span class=\"sp-thumb-inner\" style=\"' + swatchStyle + ';\"></span></span>');\n                } else {\n                    var cls = 'sp-clear-display';\n                    html.push($('<div />').append($('<span data-color=\"\" style=\"background-color:transparent;\" class=\"' + cls + '\"></span>').attr('title', opts.noColorSelectedText)).html());\n                }\n            }\n            return \"<div class='sp-cf \" + className + \"'>\" + html.join('') + '</div>';\n        }\n        function hideAll() {\n            for (var i = 0; i < spectrums.length; i++) {\n                if (spectrums[i]) {\n                    spectrums[i].hide();\n                }\n            }\n        }\n        function instanceOptions(o, callbackContext) {\n            var opts = $.extend({}, defaultOpts, o);\n            opts.callbacks = {\n                move: bind(opts.move, callbackContext),\n                change: bind(opts.change, callbackContext),\n                show: bind(opts.show, callbackContext),\n                hide: bind(opts.hide, callbackContext),\n                beforeShow: bind(opts.beforeShow, callbackContext)\n            };\n            return opts;\n        }\n        function spectrum(element, o) {\n            var opts = instanceOptions(o, element), flat = opts.flat, showSelectionPalette = opts.showSelectionPalette, localStorageKey = opts.localStorageKey, theme = opts.theme, callbacks = opts.callbacks, resize = throttle(reflow, 10), visible = false, isDragging = false, dragWidth = 0, dragHeight = 0, dragHelperHeight = 0, slideHeight = 0, slideWidth = 0, alphaWidth = 0, alphaSlideHelperWidth = 0, slideHelperHeight = 0, currentHue = 0, currentSaturation = 0, currentValue = 0, currentAlpha = 1, palette = [], paletteArray = [], paletteLookup = {}, selectionPalette = opts.selectionPalette.slice(0), maxSelectionSize = opts.maxSelectionSize, draggingClass = 'sp-dragging', shiftMovementDirection = null;\n            var doc = element.ownerDocument, body = doc.body, boundElement = $(element), disabled = false, container = $(markup, doc).addClass(theme), pickerContainer = container.find('.sp-picker-container'), dragger = container.find('.sp-color'), dragHelper = container.find('.sp-dragger'), slider = container.find('.sp-hue'), slideHelper = container.find('.sp-slider'), alphaSliderInner = container.find('.sp-alpha-inner'), alphaSlider = container.find('.sp-alpha'), alphaSlideHelper = container.find('.sp-alpha-handle'), textInput = container.find('.sp-input'), paletteContainer = container.find('.sp-palette'), initialColorContainer = container.find('.sp-initial'), cancelButton = container.find('.sp-cancel'), clearButton = container.find('.sp-clear'), chooseButton = container.find('.sp-choose'), toggleButton = container.find('.sp-palette-toggle'), isInput = boundElement.is('input'), isInputTypeColor = isInput && boundElement.attr('type') === 'color' && inputTypeColorSupport(), shouldReplace = isInput && !flat, replacer = shouldReplace ? $(replaceInput).addClass(theme).addClass(opts.className).addClass(opts.replacerClassName) : $([]), offsetElement = shouldReplace ? replacer : boundElement, previewElement = replacer.find('.sp-preview-inner'), initialColor = opts.color || isInput && boundElement.val(), colorOnShow = false, currentPreferredFormat = opts.preferredFormat, clickoutFiresChange = !opts.showButtons || opts.clickoutFiresChange, isEmpty = !initialColor, allowEmpty = opts.allowEmpty && !isInputTypeColor;\n            function applyOptions() {\n                if (opts.showPaletteOnly) {\n                    opts.showPalette = true;\n                }\n                toggleButton.text(opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText);\n                if (opts.palette) {\n                    palette = opts.palette.slice(0);\n                    paletteArray = $.isArray(palette[0]) ? palette : [palette];\n                    paletteLookup = {};\n                    for (var i = 0; i < paletteArray.length; i++) {\n                        for (var j = 0; j < paletteArray[i].length; j++) {\n                            var rgb = tinycolor(paletteArray[i][j]).toRgbString();\n                            paletteLookup[rgb] = true;\n                        }\n                    }\n                }\n                container.toggleClass('sp-flat', flat);\n                container.toggleClass('sp-input-disabled', !opts.showInput);\n                container.toggleClass('sp-alpha-enabled', opts.showAlpha);\n                container.toggleClass('sp-clear-enabled', allowEmpty);\n                container.toggleClass('sp-buttons-disabled', !opts.showButtons);\n                container.toggleClass('sp-palette-buttons-disabled', !opts.togglePaletteOnly);\n                container.toggleClass('sp-palette-disabled', !opts.showPalette);\n                container.toggleClass('sp-palette-only', opts.showPaletteOnly);\n                container.toggleClass('sp-initial-disabled', !opts.showInitial);\n                container.addClass(opts.className).addClass(opts.containerClassName);\n                reflow();\n            }\n            function initialize() {\n                if (IE) {\n                    container.find('*:not(input)').attr('unselectable', 'on');\n                }\n                applyOptions();\n                if (shouldReplace) {\n                    boundElement.after(replacer).hide();\n                }\n                if (!allowEmpty) {\n                    clearButton.hide();\n                }\n                if (flat) {\n                    boundElement.after(container).hide();\n                } else {\n                    var appendTo = opts.appendTo === 'parent' ? boundElement.parent() : $(opts.appendTo);\n                    if (appendTo.length !== 1) {\n                        appendTo = $('body');\n                    }\n                    appendTo.append(container);\n                }\n                updateSelectionPaletteFromStorage();\n                offsetElement.bind('click.spectrum touchstart.spectrum', function (e) {\n                    if (!disabled) {\n                        toggle();\n                    }\n                    e.stopPropagation();\n                    if (!$(e.target).is('input')) {\n                        e.preventDefault();\n                    }\n                });\n                if (boundElement.is(':disabled') || opts.disabled === true) {\n                    disable();\n                }\n                container.click(stopPropagation);\n                textInput.change(setFromTextInput);\n                textInput.bind('paste', function () {\n                    setTimeout(setFromTextInput, 1);\n                });\n                textInput.keydown(function (e) {\n                    if (e.keyCode == 13) {\n                        setFromTextInput();\n                    }\n                });\n                cancelButton.text(opts.cancelText);\n                cancelButton.bind('click.spectrum', function (e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    revert();\n                    hide();\n                });\n                clearButton.attr('title', opts.clearText);\n                clearButton.bind('click.spectrum', function (e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    isEmpty = true;\n                    move();\n                    if (flat) {\n                        updateOriginalInput(true);\n                    }\n                });\n                chooseButton.text(opts.chooseText);\n                chooseButton.bind('click.spectrum', function (e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    if (IE && textInput.is(':focus')) {\n                        textInput.trigger('change');\n                    }\n                    if (isValid()) {\n                        updateOriginalInput(true);\n                        hide();\n                    }\n                });\n                toggleButton.text(opts.showPaletteOnly ? opts.togglePaletteMoreText : opts.togglePaletteLessText);\n                toggleButton.bind('click.spectrum', function (e) {\n                    e.stopPropagation();\n                    e.preventDefault();\n                    opts.showPaletteOnly = !opts.showPaletteOnly;\n                    if (!opts.showPaletteOnly && !flat) {\n                        container.css('left', '-=' + (pickerContainer.outerWidth(true) + 5));\n                    }\n                    applyOptions();\n                });\n                draggable(alphaSlider, function (dragX, dragY, e) {\n                    currentAlpha = dragX / alphaWidth;\n                    isEmpty = false;\n                    if (e.shiftKey) {\n                        currentAlpha = Math.round(currentAlpha * 10) / 10;\n                    }\n                    move();\n                }, dragStart, dragStop);\n                draggable(slider, function (dragX, dragY) {\n                    currentHue = parseFloat(dragY / slideHeight);\n                    isEmpty = false;\n                    if (!opts.showAlpha) {\n                        currentAlpha = 1;\n                    }\n                    move();\n                }, dragStart, dragStop);\n                draggable(dragger, function (dragX, dragY, e) {\n                    if (!e.shiftKey) {\n                        shiftMovementDirection = null;\n                    } else if (!shiftMovementDirection) {\n                        var oldDragX = currentSaturation * dragWidth;\n                        var oldDragY = dragHeight - currentValue * dragHeight;\n                        var furtherFromX = Math.abs(dragX - oldDragX) > Math.abs(dragY - oldDragY);\n                        shiftMovementDirection = furtherFromX ? 'x' : 'y';\n                    }\n                    var setSaturation = !shiftMovementDirection || shiftMovementDirection === 'x';\n                    var setValue = !shiftMovementDirection || shiftMovementDirection === 'y';\n                    if (setSaturation) {\n                        currentSaturation = parseFloat(dragX / dragWidth);\n                    }\n                    if (setValue) {\n                        currentValue = parseFloat((dragHeight - dragY) / dragHeight);\n                    }\n                    isEmpty = false;\n                    if (!opts.showAlpha) {\n                        currentAlpha = 1;\n                    }\n                    move();\n                }, dragStart, dragStop);\n                if (!!initialColor) {\n                    set(initialColor);\n                    updateUI();\n                    currentPreferredFormat = opts.preferredFormat || tinycolor(initialColor).format;\n                    addColorToSelectionPalette(initialColor);\n                } else {\n                    updateUI();\n                }\n                if (flat) {\n                    show();\n                }\n                function paletteElementClick(e) {\n                    if (e.data && e.data.ignore) {\n                        set($(e.target).closest('.sp-thumb-el').data('color'));\n                        move();\n                    } else {\n                        set($(e.target).closest('.sp-thumb-el').data('color'));\n                        move();\n                        updateOriginalInput(true);\n                        if (opts.hideAfterPaletteSelect) {\n                            hide();\n                        }\n                    }\n                    return false;\n                }\n                var paletteEvent = IE ? 'mousedown.spectrum' : 'click.spectrum touchstart.spectrum';\n                paletteContainer.delegate('.sp-thumb-el', paletteEvent, paletteElementClick);\n                initialColorContainer.delegate('.sp-thumb-el:nth-child(1)', paletteEvent, { ignore: true }, paletteElementClick);\n            }\n            function updateSelectionPaletteFromStorage() {\n                if (localStorageKey && window.localStorage) {\n                    try {\n                        var oldPalette = window.localStorage[localStorageKey].split(',#');\n                        if (oldPalette.length > 1) {\n                            delete window.localStorage[localStorageKey];\n                            $.each(oldPalette, function (i, c) {\n                                addColorToSelectionPalette(c);\n                            });\n                        }\n                    } catch (e) {\n                    }\n                    try {\n                        selectionPalette = window.localStorage[localStorageKey].split(';');\n                    } catch (e) {\n                    }\n                }\n            }\n            function addColorToSelectionPalette(color) {\n                if (showSelectionPalette) {\n                    var rgb = tinycolor(color).toRgbString();\n                    if (!paletteLookup[rgb] && $.inArray(rgb, selectionPalette) === -1) {\n                        selectionPalette.push(rgb);\n                        while (selectionPalette.length > maxSelectionSize) {\n                            selectionPalette.shift();\n                        }\n                    }\n                    if (localStorageKey && window.localStorage) {\n                        try {\n                            window.localStorage[localStorageKey] = selectionPalette.join(';');\n                        } catch (e) {\n                        }\n                    }\n                }\n            }\n            function getUniqueSelectionPalette() {\n                var unique = [];\n                if (opts.showPalette) {\n                    for (var i = 0; i < selectionPalette.length; i++) {\n                        var rgb = tinycolor(selectionPalette[i]).toRgbString();\n                        if (!paletteLookup[rgb]) {\n                            unique.push(selectionPalette[i]);\n                        }\n                    }\n                }\n                return unique.reverse().slice(0, opts.maxSelectionSize);\n            }\n            function drawPalette() {\n                var currentColor = get();\n                var html = $.map(paletteArray, function (palette, i) {\n                    return paletteTemplate(palette, currentColor, 'sp-palette-row sp-palette-row-' + i, opts);\n                });\n                updateSelectionPaletteFromStorage();\n                if (selectionPalette) {\n                    html.push(paletteTemplate(getUniqueSelectionPalette(), currentColor, 'sp-palette-row sp-palette-row-selection', opts));\n                }\n                paletteContainer.html(html.join(''));\n            }\n            function drawInitial() {\n                if (opts.showInitial) {\n                    var initial = colorOnShow;\n                    var current = get();\n                    initialColorContainer.html(paletteTemplate([\n                        initial,\n                        current\n                    ], current, 'sp-palette-row-initial', opts));\n                }\n            }\n            function dragStart() {\n                if (dragHeight <= 0 || dragWidth <= 0 || slideHeight <= 0) {\n                    reflow();\n                }\n                isDragging = true;\n                container.addClass(draggingClass);\n                shiftMovementDirection = null;\n                boundElement.trigger('dragstart.spectrum', [get()]);\n            }\n            function dragStop() {\n                isDragging = false;\n                container.removeClass(draggingClass);\n                boundElement.trigger('dragstop.spectrum', [get()]);\n            }\n            function setFromTextInput() {\n                var value = textInput.val();\n                if ((value === null || value === '') && allowEmpty) {\n                    set(null);\n                    updateOriginalInput(true);\n                } else {\n                    var tiny = tinycolor(value);\n                    if (tiny.isValid()) {\n                        set(tiny);\n                        updateOriginalInput(true);\n                    } else {\n                        textInput.addClass('sp-validation-error');\n                    }\n                }\n            }\n            function toggle() {\n                if (visible) {\n                    hide();\n                } else {\n                    show();\n                }\n            }\n            function show() {\n                var event = $.Event('beforeShow.spectrum');\n                if (visible) {\n                    reflow();\n                    return;\n                }\n                boundElement.trigger('beforeShow.spectrum', [get()]);\n                if (callbacks.beforeShow(get()) === false || event.isDefaultPrevented()) {\n                    return;\n                }\n                hideAll();\n                visible = true;\n                var $doc = $(doc);\n                $doc.bind('keydown.spectrum', onkeydown);\n                $doc.bind('click.spectrum', clickout);\n                $(window).bind('resize.spectrum', resize);\n                replacer.addClass('sp-active');\n                container.removeClass('sp-hidden');\n                reflow();\n                updateUI();\n                colorOnShow = get();\n                drawInitial();\n                callbacks.show(colorOnShow);\n                boundElement.trigger('show.spectrum', [colorOnShow]);\n            }\n            function onkeydown(e) {\n                if (e.keyCode === 27) {\n                    hide();\n                }\n            }\n            function clickout(e) {\n                if (e.button == 2) {\n                    return;\n                }\n                if (isDragging) {\n                    return;\n                }\n                if (clickoutFiresChange) {\n                    updateOriginalInput(true);\n                } else {\n                    revert();\n                }\n                hide();\n            }\n            function hide() {\n                if (!visible || flat) {\n                    return;\n                }\n                visible = false;\n                $(doc).unbind('keydown.spectrum', onkeydown);\n                $(doc).unbind('click.spectrum', clickout);\n                $(window).unbind('resize.spectrum', resize);\n                replacer.removeClass('sp-active');\n                container.addClass('sp-hidden');\n                callbacks.hide(get());\n                boundElement.trigger('hide.spectrum', [get()]);\n            }\n            function revert() {\n                set(colorOnShow, true);\n            }\n            function set(color, ignoreFormatChange) {\n                if (tinycolor.equals(color, get())) {\n                    updateUI();\n                    return;\n                }\n                var newColor, newHsv;\n                if (!color && allowEmpty) {\n                    isEmpty = true;\n                } else {\n                    isEmpty = false;\n                    newColor = tinycolor(color);\n                    newHsv = newColor.toHsv();\n                    currentHue = newHsv.h % 360 / 360;\n                    currentSaturation = newHsv.s;\n                    currentValue = newHsv.v;\n                    currentAlpha = newHsv.a;\n                }\n                updateUI();\n                if (newColor && newColor.isValid() && !ignoreFormatChange) {\n                    currentPreferredFormat = opts.preferredFormat || newColor.getFormat();\n                }\n            }\n            function get(opts) {\n                opts = opts || {};\n                if (allowEmpty && isEmpty) {\n                    return null;\n                }\n                return tinycolor.fromRatio({\n                    h: currentHue,\n                    s: currentSaturation,\n                    v: currentValue,\n                    a: Math.round(currentAlpha * 100) / 100\n                }, { format: opts.format || currentPreferredFormat });\n            }\n            function isValid() {\n                return !textInput.hasClass('sp-validation-error');\n            }\n            function move() {\n                updateUI();\n                callbacks.move(get());\n                boundElement.trigger('move.spectrum', [get()]);\n            }\n            function updateUI() {\n                textInput.removeClass('sp-validation-error');\n                updateHelperLocations();\n                var flatColor = tinycolor.fromRatio({\n                    h: currentHue,\n                    s: 1,\n                    v: 1\n                });\n                dragger.css('background-color', flatColor.toHexString());\n                var format = currentPreferredFormat;\n                if (currentAlpha < 1 && !(currentAlpha === 0 && format === 'name')) {\n                    if (format === 'hex' || format === 'hex3' || format === 'hex6' || format === 'name') {\n                        format = 'rgb';\n                    }\n                }\n                var realColor = get({ format: format }), displayColor = '';\n                previewElement.removeClass('sp-clear-display');\n                previewElement.css('background-color', 'transparent');\n                if (!realColor && allowEmpty) {\n                    previewElement.addClass('sp-clear-display');\n                } else {\n                    var realHex = realColor.toHexString(), realRgb = realColor.toRgbString();\n                    if (rgbaSupport || realColor.alpha === 1) {\n                        previewElement.css('background-color', realRgb);\n                    } else {\n                        previewElement.css('background-color', 'transparent');\n                        previewElement.css('filter', realColor.toFilter());\n                    }\n                    if (opts.showAlpha) {\n                        var rgb = realColor.toRgb();\n                        rgb.a = 0;\n                        var realAlpha = tinycolor(rgb).toRgbString();\n                        var gradient = 'linear-gradient(left, ' + realAlpha + ', ' + realHex + ')';\n                        if (IE) {\n                            alphaSliderInner.css('filter', tinycolor(realAlpha).toFilter({ gradientType: 1 }, realHex));\n                        } else {\n                            alphaSliderInner.css('background', '-webkit-' + gradient);\n                            alphaSliderInner.css('background', '-moz-' + gradient);\n                            alphaSliderInner.css('background', '-ms-' + gradient);\n                            alphaSliderInner.css('background', 'linear-gradient(to right, ' + realAlpha + ', ' + realHex + ')');\n                        }\n                    }\n                    displayColor = realColor.toString(format);\n                }\n                if (opts.showInput) {\n                    textInput.val(displayColor);\n                }\n                if (opts.showPalette) {\n                    drawPalette();\n                }\n                drawInitial();\n            }\n            function updateHelperLocations() {\n                var s = currentSaturation;\n                var v = currentValue;\n                if (allowEmpty && isEmpty) {\n                    alphaSlideHelper.hide();\n                    slideHelper.hide();\n                    dragHelper.hide();\n                } else {\n                    alphaSlideHelper.show();\n                    slideHelper.show();\n                    dragHelper.show();\n                    var dragX = s * dragWidth;\n                    var dragY = dragHeight - v * dragHeight;\n                    dragX = Math.max(-dragHelperHeight, Math.min(dragWidth - dragHelperHeight, dragX - dragHelperHeight));\n                    dragY = Math.max(-dragHelperHeight, Math.min(dragHeight - dragHelperHeight, dragY - dragHelperHeight));\n                    dragHelper.css({\n                        top: dragY + 'px',\n                        left: dragX + 'px'\n                    });\n                    var alphaX = currentAlpha * alphaWidth;\n                    alphaSlideHelper.css({ left: alphaX - alphaSlideHelperWidth / 2 + 'px' });\n                    var slideY = currentHue * slideHeight;\n                    slideHelper.css({ top: slideY - slideHelperHeight + 'px' });\n                }\n            }\n            function updateOriginalInput(fireCallback) {\n                var color = get(), displayColor = '', hasChanged = !tinycolor.equals(color, colorOnShow);\n                if (color) {\n                    displayColor = color.toString(currentPreferredFormat);\n                    addColorToSelectionPalette(color);\n                }\n                if (isInput) {\n                    boundElement.val(displayColor);\n                }\n                if (fireCallback && hasChanged) {\n                    callbacks.change(color);\n                    boundElement.trigger('change', [color]);\n                }\n            }\n            function reflow() {\n                if (!visible) {\n                    return;\n                }\n                dragWidth = dragger.width();\n                dragHeight = dragger.height();\n                dragHelperHeight = dragHelper.height();\n                slideWidth = slider.width();\n                slideHeight = slider.height();\n                slideHelperHeight = slideHelper.height();\n                alphaWidth = alphaSlider.width();\n                alphaSlideHelperWidth = alphaSlideHelper.width();\n                if (!flat) {\n                    container.css('position', 'absolute');\n                    if (opts.offset) {\n                        container.offset(opts.offset);\n                    } else {\n                        container.offset(getOffset(container, offsetElement));\n                    }\n                }\n                updateHelperLocations();\n                if (opts.showPalette) {\n                    drawPalette();\n                }\n                boundElement.trigger('reflow.spectrum');\n            }\n            function destroy() {\n                boundElement.show();\n                offsetElement.unbind('click.spectrum touchstart.spectrum');\n                container.remove();\n                replacer.remove();\n                spectrums[spect.id] = null;\n            }\n            function option(optionName, optionValue) {\n                if (optionName === undefined) {\n                    return $.extend({}, opts);\n                }\n                if (optionValue === undefined) {\n                    return opts[optionName];\n                }\n                opts[optionName] = optionValue;\n                if (optionName === 'preferredFormat') {\n                    currentPreferredFormat = opts.preferredFormat;\n                }\n                applyOptions();\n            }\n            function enable() {\n                disabled = false;\n                boundElement.attr('disabled', false);\n                offsetElement.removeClass('sp-disabled');\n            }\n            function disable() {\n                hide();\n                disabled = true;\n                boundElement.attr('disabled', true);\n                offsetElement.addClass('sp-disabled');\n            }\n            function setOffset(coord) {\n                opts.offset = coord;\n                reflow();\n            }\n            initialize();\n            var spect = {\n                show: show,\n                hide: hide,\n                toggle: toggle,\n                reflow: reflow,\n                option: option,\n                enable: enable,\n                disable: disable,\n                offset: setOffset,\n                set: function (c) {\n                    set(c);\n                    updateOriginalInput();\n                },\n                get: get,\n                destroy: destroy,\n                container: container\n            };\n            spect.id = spectrums.push(spect) - 1;\n            return spect;\n        }\n        function getOffset(picker, input) {\n            var extraY = 0;\n            var dpWidth = picker.outerWidth();\n            var dpHeight = picker.outerHeight();\n            var inputHeight = input.outerHeight();\n            var doc = picker[0].ownerDocument;\n            var docElem = doc.documentElement;\n            var cW = docElem.clientWidth;\n            var cH = docElem.clientHeight;\n            var scL = $(doc).scrollLeft();\n            var scT = $(doc).scrollTop();\n            var viewWidth = cW + scL;\n            var viewHeight = cH + scT;\n            var offset = input.offset();\n            offset.top += inputHeight;\n            offset.left -= Math.min(offset.left, offset.left + dpWidth > viewWidth && viewWidth > dpWidth ? Math.abs(offset.left + dpWidth - viewWidth) : 0);\n            offset.top -= Math.min(offset.top, offset.top + dpHeight > viewHeight && viewHeight > dpHeight ? Math.abs(dpHeight + inputHeight - extraY) : extraY);\n            return offset;\n        }\n        function noop() {\n        }\n        function stopPropagation(e) {\n            e.stopPropagation();\n        }\n        function bind(func, obj) {\n            var slice = Array.prototype.slice;\n            var args = slice.call(arguments, 2);\n            return function () {\n                return func.apply(obj, args.concat(slice.call(arguments)));\n            };\n        }\n        function draggable(element, onmove, onstart, onstop) {\n            onmove = onmove || function () {\n            };\n            onstart = onstart || function () {\n            };\n            onstop = onstop || function () {\n            };\n            var doc = document;\n            var dragging = false;\n            var offset = {};\n            var maxHeight = 0;\n            var maxWidth = 0;\n            var hasTouch = 'ontouchstart' in window;\n            var duringDragEvents = {};\n            duringDragEvents['selectstart'] = prevent;\n            duringDragEvents['dragstart'] = prevent;\n            duringDragEvents['touchmove mousemove'] = move;\n            duringDragEvents['touchend mouseup'] = stop;\n            function prevent(e) {\n                if (e.stopPropagation) {\n                    e.stopPropagation();\n                }\n                if (e.preventDefault) {\n                    e.preventDefault();\n                }\n                e.returnValue = false;\n            }\n            function move(e) {\n                if (dragging) {\n                    if (IE && doc.documentMode < 9 && !e.button) {\n                        return stop();\n                    }\n                    var t0 = e && e.touches && e.touches[0];\n                    var pageX = t0 && t0.pageX || e.pageX;\n                    var pageY = t0 && t0.pageY || e.pageY;\n                    var dragX = Math.max(0, Math.min(pageX - offset.left, maxWidth));\n                    var dragY = Math.max(0, Math.min(pageY - offset.top, maxHeight));\n                    if (hasTouch) {\n                        prevent(e);\n                    }\n                    onmove.apply(element, [\n                        dragX,\n                        dragY,\n                        e\n                    ]);\n                }\n            }\n            function start(e) {\n                var rightclick = e.which ? e.which == 3 : e.button == 2;\n                if (!rightclick && !dragging) {\n                    if (onstart.apply(element, arguments) !== false) {\n                        dragging = true;\n                        maxHeight = $(element).height();\n                        maxWidth = $(element).width();\n                        offset = $(element).offset();\n                        $(doc).bind(duringDragEvents);\n                        $(doc.body).addClass('sp-dragging');\n                        move(e);\n                        prevent(e);\n                    }\n                }\n            }\n            function stop() {\n                if (dragging) {\n                    $(doc).unbind(duringDragEvents);\n                    $(doc.body).removeClass('sp-dragging');\n                    setTimeout(function () {\n                        onstop.apply(element, arguments);\n                    }, 0);\n                }\n                dragging = false;\n            }\n            $(element).bind('touchstart mousedown', start);\n        }\n        function throttle(func, wait, debounce) {\n            var timeout;\n            return function () {\n                var context = this, args = arguments;\n                var throttler = function () {\n                    timeout = null;\n                    func.apply(context, args);\n                };\n                if (debounce)\n                    clearTimeout(timeout);\n                if (debounce || !timeout)\n                    timeout = setTimeout(throttler, wait);\n            };\n        }\n        function inputTypeColorSupport() {\n            return $.fn.spectrum.inputTypeColorSupport();\n        }\n        var dataID = 'spectrum.id';\n        $.fn.spectrum = function (opts, extra) {\n            if (typeof opts == 'string') {\n                var returnValue = this;\n                var args = Array.prototype.slice.call(arguments, 1);\n                this.each(function () {\n                    var spect = spectrums[$(this).data(dataID)];\n                    if (spect) {\n                        var method = spect[opts];\n                        if (!method) {\n                            throw new Error(\"Spectrum: no such method: '\" + opts + \"'\");\n                        }\n                        if (opts == 'get') {\n                            returnValue = spect.get();\n                        } else if (opts == 'container') {\n                            returnValue = spect.container;\n                        } else if (opts == 'option') {\n                            returnValue = spect.option.apply(spect, args);\n                        } else if (opts == 'destroy') {\n                            spect.destroy();\n                            $(this).removeData(dataID);\n                        } else {\n                            method.apply(spect, args);\n                        }\n                    }\n                });\n                return returnValue;\n            }\n            return this.spectrum('destroy').each(function () {\n                var options = $.extend({}, opts, $(this).data());\n                var spect = spectrum(this, options);\n                $(this).data(dataID, spect.id);\n            });\n        };\n        $.fn.spectrum.load = true;\n        $.fn.spectrum.loadOpts = {};\n        $.fn.spectrum.draggable = draggable;\n        $.fn.spectrum.defaults = defaultOpts;\n        $.fn.spectrum.inputTypeColorSupport = function inputTypeColorSupport() {\n            if (typeof inputTypeColorSupport._cachedResult === 'undefined') {\n                var colorInput = $(\"<input type='color'/>\")[0];\n                inputTypeColorSupport._cachedResult = colorInput.type === 'color' && colorInput.value !== '';\n            }\n            return inputTypeColorSupport._cachedResult;\n        };\n        $.spectrum = {};\n        $.spectrum.localization = {};\n        $.spectrum.palettes = {};\n        $.fn.spectrum.processNativeColorInputs = function () {\n            var colorInputs = $('input[type=color]');\n            if (colorInputs.length && !inputTypeColorSupport()) {\n                colorInputs.spectrum({ preferredFormat: 'hex6' });\n            }\n        };\n        var trimLeft = /^[\\s,#]+/, trimRight = /\\s+$/, tinyCounter = 0, math = Math, mathRound = math.round, mathMin = math.min, mathMax = math.max, mathRandom = math.random;\n        var tinycolor = function (color, opts) {\n            color = color ? color : '';\n            opts = opts || {};\n            if (color instanceof tinycolor) {\n                return color;\n            }\n            if (!(this instanceof tinycolor)) {\n                return new tinycolor(color, opts);\n            }\n            var rgb = inputToRGB(color);\n            this._originalInput = color, this._r = rgb.r, this._g = rgb.g, this._b = rgb.b, this._a = rgb.a, this._roundA = mathRound(100 * this._a) / 100, this._format = opts.format || rgb.format;\n            this._gradientType = opts.gradientType;\n            if (this._r < 1) {\n                this._r = mathRound(this._r);\n            }\n            if (this._g < 1) {\n                this._g = mathRound(this._g);\n            }\n            if (this._b < 1) {\n                this._b = mathRound(this._b);\n            }\n            this._ok = rgb.ok;\n            this._tc_id = tinyCounter++;\n        };\n        tinycolor.prototype = {\n            isDark: function () {\n                return this.getBrightness() < 128;\n            },\n            isLight: function () {\n                return !this.isDark();\n            },\n            isValid: function () {\n                return this._ok;\n            },\n            getOriginalInput: function () {\n                return this._originalInput;\n            },\n            getFormat: function () {\n                return this._format;\n            },\n            getAlpha: function () {\n                return this._a;\n            },\n            getBrightness: function () {\n                var rgb = this.toRgb();\n                return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n            },\n            setAlpha: function (value) {\n                this._a = boundAlpha(value);\n                this._roundA = mathRound(100 * this._a) / 100;\n                return this;\n            },\n            toHsv: function () {\n                var hsv = rgbToHsv(this._r, this._g, this._b);\n                return {\n                    h: hsv.h * 360,\n                    s: hsv.s,\n                    v: hsv.v,\n                    a: this._a\n                };\n            },\n            toHsvString: function () {\n                var hsv = rgbToHsv(this._r, this._g, this._b);\n                var h = mathRound(hsv.h * 360), s = mathRound(hsv.s * 100), v = mathRound(hsv.v * 100);\n                return this._a == 1 ? 'hsv(' + h + ', ' + s + '%, ' + v + '%)' : 'hsva(' + h + ', ' + s + '%, ' + v + '%, ' + this._roundA + ')';\n            },\n            toHsl: function () {\n                var hsl = rgbToHsl(this._r, this._g, this._b);\n                return {\n                    h: hsl.h * 360,\n                    s: hsl.s,\n                    l: hsl.l,\n                    a: this._a\n                };\n            },\n            toHslString: function () {\n                var hsl = rgbToHsl(this._r, this._g, this._b);\n                var h = mathRound(hsl.h * 360), s = mathRound(hsl.s * 100), l = mathRound(hsl.l * 100);\n                return this._a == 1 ? 'hsl(' + h + ', ' + s + '%, ' + l + '%)' : 'hsla(' + h + ', ' + s + '%, ' + l + '%, ' + this._roundA + ')';\n            },\n            toHex: function (allow3Char) {\n                return rgbToHex(this._r, this._g, this._b, allow3Char);\n            },\n            toHexString: function (allow3Char) {\n                return '#' + this.toHex(allow3Char);\n            },\n            toHex8: function () {\n                return rgbaToHex(this._r, this._g, this._b, this._a);\n            },\n            toHex8String: function () {\n                return '#' + this.toHex8();\n            },\n            toRgb: function () {\n                return {\n                    r: mathRound(this._r),\n                    g: mathRound(this._g),\n                    b: mathRound(this._b),\n                    a: this._a\n                };\n            },\n            toRgbString: function () {\n                return this._a == 1 ? 'rgb(' + mathRound(this._r) + ', ' + mathRound(this._g) + ', ' + mathRound(this._b) + ')' : 'rgba(' + mathRound(this._r) + ', ' + mathRound(this._g) + ', ' + mathRound(this._b) + ', ' + this._roundA + ')';\n            },\n            toPercentageRgb: function () {\n                return {\n                    r: mathRound(bound01(this._r, 255) * 100) + '%',\n                    g: mathRound(bound01(this._g, 255) * 100) + '%',\n                    b: mathRound(bound01(this._b, 255) * 100) + '%',\n                    a: this._a\n                };\n            },\n            toPercentageRgbString: function () {\n                return this._a == 1 ? 'rgb(' + mathRound(bound01(this._r, 255) * 100) + '%, ' + mathRound(bound01(this._g, 255) * 100) + '%, ' + mathRound(bound01(this._b, 255) * 100) + '%)' : 'rgba(' + mathRound(bound01(this._r, 255) * 100) + '%, ' + mathRound(bound01(this._g, 255) * 100) + '%, ' + mathRound(bound01(this._b, 255) * 100) + '%, ' + this._roundA + ')';\n            },\n            toName: function () {\n                if (this._a === 0) {\n                    return 'transparent';\n                }\n                if (this._a < 1) {\n                    return false;\n                }\n                return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n            },\n            toFilter: function (secondColor) {\n                var hex8String = '#' + rgbaToHex(this._r, this._g, this._b, this._a);\n                var secondHex8String = hex8String;\n                var gradientType = this._gradientType ? 'GradientType = 1, ' : '';\n                if (secondColor) {\n                    var s = tinycolor(secondColor);\n                    secondHex8String = s.toHex8String();\n                }\n                return 'progid:DXImageTransform.Microsoft.gradient(' + gradientType + 'startColorstr=' + hex8String + ',endColorstr=' + secondHex8String + ')';\n            },\n            toString: function (format) {\n                var formatSet = !!format;\n                format = format || this._format;\n                var formattedString = false;\n                var hasAlpha = this._a < 1 && this._a >= 0;\n                var needsAlphaFormat = !formatSet && hasAlpha && (format === 'hex' || format === 'hex6' || format === 'hex3' || format === 'name');\n                if (needsAlphaFormat) {\n                    if (format === 'name' && this._a === 0) {\n                        return this.toName();\n                    }\n                    return this.toRgbString();\n                }\n                if (format === 'rgb') {\n                    formattedString = this.toRgbString();\n                }\n                if (format === 'prgb') {\n                    formattedString = this.toPercentageRgbString();\n                }\n                if (format === 'hex' || format === 'hex6') {\n                    formattedString = this.toHexString();\n                }\n                if (format === 'hex3') {\n                    formattedString = this.toHexString(true);\n                }\n                if (format === 'hex8') {\n                    formattedString = this.toHex8String();\n                }\n                if (format === 'name') {\n                    formattedString = this.toName();\n                }\n                if (format === 'hsl') {\n                    formattedString = this.toHslString();\n                }\n                if (format === 'hsv') {\n                    formattedString = this.toHsvString();\n                }\n                return formattedString || this.toHexString();\n            },\n            _applyModification: function (fn, args) {\n                var color = fn.apply(null, [this].concat([].slice.call(args)));\n                this._r = color._r;\n                this._g = color._g;\n                this._b = color._b;\n                this.setAlpha(color._a);\n                return this;\n            },\n            lighten: function () {\n                return this._applyModification(lighten, arguments);\n            },\n            brighten: function () {\n                return this._applyModification(brighten, arguments);\n            },\n            darken: function () {\n                return this._applyModification(darken, arguments);\n            },\n            desaturate: function () {\n                return this._applyModification(desaturate, arguments);\n            },\n            saturate: function () {\n                return this._applyModification(saturate, arguments);\n            },\n            greyscale: function () {\n                return this._applyModification(greyscale, arguments);\n            },\n            spin: function () {\n                return this._applyModification(spin, arguments);\n            },\n            _applyCombination: function (fn, args) {\n                return fn.apply(null, [this].concat([].slice.call(args)));\n            },\n            analogous: function () {\n                return this._applyCombination(analogous, arguments);\n            },\n            complement: function () {\n                return this._applyCombination(complement, arguments);\n            },\n            monochromatic: function () {\n                return this._applyCombination(monochromatic, arguments);\n            },\n            splitcomplement: function () {\n                return this._applyCombination(splitcomplement, arguments);\n            },\n            triad: function () {\n                return this._applyCombination(triad, arguments);\n            },\n            tetrad: function () {\n                return this._applyCombination(tetrad, arguments);\n            }\n        };\n        tinycolor.fromRatio = function (color, opts) {\n            if (typeof color == 'object') {\n                var newColor = {};\n                for (var i in color) {\n                    if (color.hasOwnProperty(i)) {\n                        if (i === 'a') {\n                            newColor[i] = color[i];\n                        } else {\n                            newColor[i] = convertToPercentage(color[i]);\n                        }\n                    }\n                }\n                color = newColor;\n            }\n            return tinycolor(color, opts);\n        };\n        function inputToRGB(color) {\n            var rgb = {\n                r: 0,\n                g: 0,\n                b: 0\n            };\n            var a = 1;\n            var ok = false;\n            var format = false;\n            if (typeof color == 'string') {\n                color = stringInputToObject(color);\n            }\n            if (typeof color == 'object') {\n                if (color.hasOwnProperty('r') && color.hasOwnProperty('g') && color.hasOwnProperty('b')) {\n                    rgb = rgbToRgb(color.r, color.g, color.b);\n                    ok = true;\n                    format = String(color.r).substr(-1) === '%' ? 'prgb' : 'rgb';\n                } else if (color.hasOwnProperty('h') && color.hasOwnProperty('s') && color.hasOwnProperty('v')) {\n                    color.s = convertToPercentage(color.s);\n                    color.v = convertToPercentage(color.v);\n                    rgb = hsvToRgb(color.h, color.s, color.v);\n                    ok = true;\n                    format = 'hsv';\n                } else if (color.hasOwnProperty('h') && color.hasOwnProperty('s') && color.hasOwnProperty('l')) {\n                    color.s = convertToPercentage(color.s);\n                    color.l = convertToPercentage(color.l);\n                    rgb = hslToRgb(color.h, color.s, color.l);\n                    ok = true;\n                    format = 'hsl';\n                }\n                if (color.hasOwnProperty('a')) {\n                    a = color.a;\n                }\n            }\n            a = boundAlpha(a);\n            return {\n                ok: ok,\n                format: color.format || format,\n                r: mathMin(255, mathMax(rgb.r, 0)),\n                g: mathMin(255, mathMax(rgb.g, 0)),\n                b: mathMin(255, mathMax(rgb.b, 0)),\n                a: a\n            };\n        }\n        function rgbToRgb(r, g, b) {\n            return {\n                r: bound01(r, 255) * 255,\n                g: bound01(g, 255) * 255,\n                b: bound01(b, 255) * 255\n            };\n        }\n        function rgbToHsl(r, g, b) {\n            r = bound01(r, 255);\n            g = bound01(g, 255);\n            b = bound01(b, 255);\n            var max = mathMax(r, g, b), min = mathMin(r, g, b);\n            var h, s, l = (max + min) / 2;\n            if (max == min) {\n                h = s = 0;\n            } else {\n                var d = max - min;\n                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n                switch (max) {\n                case r:\n                    h = (g - b) / d + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    h = (b - r) / d + 2;\n                    break;\n                case b:\n                    h = (r - g) / d + 4;\n                    break;\n                }\n                h /= 6;\n            }\n            return {\n                h: h,\n                s: s,\n                l: l\n            };\n        }\n        function hslToRgb(h, s, l) {\n            var r, g, b;\n            h = bound01(h, 360);\n            s = bound01(s, 100);\n            l = bound01(l, 100);\n            function hue2rgb(p, q, t) {\n                if (t < 0)\n                    t += 1;\n                if (t > 1)\n                    t -= 1;\n                if (t < 1 / 6)\n                    return p + (q - p) * 6 * t;\n                if (t < 1 / 2)\n                    return q;\n                if (t < 2 / 3)\n                    return p + (q - p) * (2 / 3 - t) * 6;\n                return p;\n            }\n            if (s === 0) {\n                r = g = b = l;\n            } else {\n                var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n                var p = 2 * l - q;\n                r = hue2rgb(p, q, h + 1 / 3);\n                g = hue2rgb(p, q, h);\n                b = hue2rgb(p, q, h - 1 / 3);\n            }\n            return {\n                r: r * 255,\n                g: g * 255,\n                b: b * 255\n            };\n        }\n        function rgbToHsv(r, g, b) {\n            r = bound01(r, 255);\n            g = bound01(g, 255);\n            b = bound01(b, 255);\n            var max = mathMax(r, g, b), min = mathMin(r, g, b);\n            var h, s, v = max;\n            var d = max - min;\n            s = max === 0 ? 0 : d / max;\n            if (max == min) {\n                h = 0;\n            } else {\n                switch (max) {\n                case r:\n                    h = (g - b) / d + (g < b ? 6 : 0);\n                    break;\n                case g:\n                    h = (b - r) / d + 2;\n                    break;\n                case b:\n                    h = (r - g) / d + 4;\n                    break;\n                }\n                h /= 6;\n            }\n            return {\n                h: h,\n                s: s,\n                v: v\n            };\n        }\n        function hsvToRgb(h, s, v) {\n            h = bound01(h, 360) * 6;\n            s = bound01(s, 100);\n            v = bound01(v, 100);\n            var i = math.floor(h), f = h - i, p = v * (1 - s), q = v * (1 - f * s), t = v * (1 - (1 - f) * s), mod = i % 6, r = [\n                    v,\n                    q,\n                    p,\n                    p,\n                    t,\n                    v\n                ][mod], g = [\n                    t,\n                    v,\n                    v,\n                    q,\n                    p,\n                    p\n                ][mod], b = [\n                    p,\n                    p,\n                    t,\n                    v,\n                    v,\n                    q\n                ][mod];\n            return {\n                r: r * 255,\n                g: g * 255,\n                b: b * 255\n            };\n        }\n        function rgbToHex(r, g, b, allow3Char) {\n            var hex = [\n                pad2(mathRound(r).toString(16)),\n                pad2(mathRound(g).toString(16)),\n                pad2(mathRound(b).toString(16))\n            ];\n            if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n                return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n            }\n            return hex.join('');\n        }\n        function rgbaToHex(r, g, b, a) {\n            var hex = [\n                pad2(convertDecimalToHex(a)),\n                pad2(mathRound(r).toString(16)),\n                pad2(mathRound(g).toString(16)),\n                pad2(mathRound(b).toString(16))\n            ];\n            return hex.join('');\n        }\n        tinycolor.equals = function (color1, color2) {\n            if (!color1 || !color2) {\n                return false;\n            }\n            return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n        };\n        tinycolor.random = function () {\n            return tinycolor.fromRatio({\n                r: mathRandom(),\n                g: mathRandom(),\n                b: mathRandom()\n            });\n        };\n        function desaturate(color, amount) {\n            amount = amount === 0 ? 0 : amount || 10;\n            var hsl = tinycolor(color).toHsl();\n            hsl.s -= amount / 100;\n            hsl.s = clamp01(hsl.s);\n            return tinycolor(hsl);\n        }\n        function saturate(color, amount) {\n            amount = amount === 0 ? 0 : amount || 10;\n            var hsl = tinycolor(color).toHsl();\n            hsl.s += amount / 100;\n            hsl.s = clamp01(hsl.s);\n            return tinycolor(hsl);\n        }\n        function greyscale(color) {\n            return tinycolor(color).desaturate(100);\n        }\n        function lighten(color, amount) {\n            amount = amount === 0 ? 0 : amount || 10;\n            var hsl = tinycolor(color).toHsl();\n            hsl.l += amount / 100;\n            hsl.l = clamp01(hsl.l);\n            return tinycolor(hsl);\n        }\n        function brighten(color, amount) {\n            amount = amount === 0 ? 0 : amount || 10;\n            var rgb = tinycolor(color).toRgb();\n            rgb.r = mathMax(0, mathMin(255, rgb.r - mathRound(255 * -(amount / 100))));\n            rgb.g = mathMax(0, mathMin(255, rgb.g - mathRound(255 * -(amount / 100))));\n            rgb.b = mathMax(0, mathMin(255, rgb.b - mathRound(255 * -(amount / 100))));\n            return tinycolor(rgb);\n        }\n        function darken(color, amount) {\n            amount = amount === 0 ? 0 : amount || 10;\n            var hsl = tinycolor(color).toHsl();\n            hsl.l -= amount / 100;\n            hsl.l = clamp01(hsl.l);\n            return tinycolor(hsl);\n        }\n        function spin(color, amount) {\n            var hsl = tinycolor(color).toHsl();\n            var hue = (mathRound(hsl.h) + amount) % 360;\n            hsl.h = hue < 0 ? 360 + hue : hue;\n            return tinycolor(hsl);\n        }\n        function complement(color) {\n            var hsl = tinycolor(color).toHsl();\n            hsl.h = (hsl.h + 180) % 360;\n            return tinycolor(hsl);\n        }\n        function triad(color) {\n            var hsl = tinycolor(color).toHsl();\n            var h = hsl.h;\n            return [\n                tinycolor(color),\n                tinycolor({\n                    h: (h + 120) % 360,\n                    s: hsl.s,\n                    l: hsl.l\n                }),\n                tinycolor({\n                    h: (h + 240) % 360,\n                    s: hsl.s,\n                    l: hsl.l\n                })\n            ];\n        }\n        function tetrad(color) {\n            var hsl = tinycolor(color).toHsl();\n            var h = hsl.h;\n            return [\n                tinycolor(color),\n                tinycolor({\n                    h: (h + 90) % 360,\n                    s: hsl.s,\n                    l: hsl.l\n                }),\n                tinycolor({\n                    h: (h + 180) % 360,\n                    s: hsl.s,\n                    l: hsl.l\n                }),\n                tinycolor({\n                    h: (h + 270) % 360,\n                    s: hsl.s,\n                    l: hsl.l\n                })\n            ];\n        }\n        function splitcomplement(color) {\n            var hsl = tinycolor(color).toHsl();\n            var h = hsl.h;\n            return [\n                tinycolor(color),\n                tinycolor({\n                    h: (h + 72) % 360,\n                    s: hsl.s,\n                    l: hsl.l\n                }),\n                tinycolor({\n                    h: (h + 216) % 360,\n                    s: hsl.s,\n                    l: hsl.l\n                })\n            ];\n        }\n        function analogous(color, results, slices) {\n            results = results || 6;\n            slices = slices || 30;\n            var hsl = tinycolor(color).toHsl();\n            var part = 360 / slices;\n            var ret = [tinycolor(color)];\n            for (hsl.h = (hsl.h - (part * results >> 1) + 720) % 360; --results;) {\n                hsl.h = (hsl.h + part) % 360;\n                ret.push(tinycolor(hsl));\n            }\n            return ret;\n        }\n        function monochromatic(color, results) {\n            results = results || 6;\n            var hsv = tinycolor(color).toHsv();\n            var h = hsv.h, s = hsv.s, v = hsv.v;\n            var ret = [];\n            var modification = 1 / results;\n            while (results--) {\n                ret.push(tinycolor({\n                    h: h,\n                    s: s,\n                    v: v\n                }));\n                v = (v + modification) % 1;\n            }\n            return ret;\n        }\n        tinycolor.mix = function (color1, color2, amount) {\n            amount = amount === 0 ? 0 : amount || 50;\n            var rgb1 = tinycolor(color1).toRgb();\n            var rgb2 = tinycolor(color2).toRgb();\n            var p = amount / 100;\n            var w = p * 2 - 1;\n            var a = rgb2.a - rgb1.a;\n            var w1;\n            if (w * a == -1) {\n                w1 = w;\n            } else {\n                w1 = (w + a) / (1 + w * a);\n            }\n            w1 = (w1 + 1) / 2;\n            var w2 = 1 - w1;\n            var rgba = {\n                r: rgb2.r * w1 + rgb1.r * w2,\n                g: rgb2.g * w1 + rgb1.g * w2,\n                b: rgb2.b * w1 + rgb1.b * w2,\n                a: rgb2.a * p + rgb1.a * (1 - p)\n            };\n            return tinycolor(rgba);\n        };\n        tinycolor.readability = function (color1, color2) {\n            var c1 = tinycolor(color1);\n            var c2 = tinycolor(color2);\n            var rgb1 = c1.toRgb();\n            var rgb2 = c2.toRgb();\n            var brightnessA = c1.getBrightness();\n            var brightnessB = c2.getBrightness();\n            var colorDiff = Math.max(rgb1.r, rgb2.r) - Math.min(rgb1.r, rgb2.r) + Math.max(rgb1.g, rgb2.g) - Math.min(rgb1.g, rgb2.g) + Math.max(rgb1.b, rgb2.b) - Math.min(rgb1.b, rgb2.b);\n            return {\n                brightness: Math.abs(brightnessA - brightnessB),\n                color: colorDiff\n            };\n        };\n        tinycolor.isReadable = function (color1, color2) {\n            var readability = tinycolor.readability(color1, color2);\n            return readability.brightness > 125 && readability.color > 500;\n        };\n        tinycolor.mostReadable = function (baseColor, colorList) {\n            var bestColor = null;\n            var bestScore = 0;\n            var bestIsReadable = false;\n            for (var i = 0; i < colorList.length; i++) {\n                var readability = tinycolor.readability(baseColor, colorList[i]);\n                var readable = readability.brightness > 125 && readability.color > 500;\n                var score = 3 * (readability.brightness / 125) + readability.color / 500;\n                if (readable && !bestIsReadable || readable && bestIsReadable && score > bestScore || !readable && !bestIsReadable && score > bestScore) {\n                    bestIsReadable = readable;\n                    bestScore = score;\n                    bestColor = tinycolor(colorList[i]);\n                }\n            }\n            return bestColor;\n        };\n        var names = tinycolor.names = {\n            aliceblue: 'f0f8ff',\n            antiquewhite: 'faebd7',\n            aqua: '0ff',\n            aquamarine: '7fffd4',\n            azure: 'f0ffff',\n            beige: 'f5f5dc',\n            bisque: 'ffe4c4',\n            black: '000',\n            blanchedalmond: 'ffebcd',\n            blue: '00f',\n            blueviolet: '8a2be2',\n            brown: 'a52a2a',\n            burlywood: 'deb887',\n            burntsienna: 'ea7e5d',\n            cadetblue: '5f9ea0',\n            chartreuse: '7fff00',\n            chocolate: 'd2691e',\n            coral: 'ff7f50',\n            cornflowerblue: '6495ed',\n            cornsilk: 'fff8dc',\n            crimson: 'dc143c',\n            cyan: '0ff',\n            darkblue: '00008b',\n            darkcyan: '008b8b',\n            darkgoldenrod: 'b8860b',\n            darkgray: 'a9a9a9',\n            darkgreen: '006400',\n            darkgrey: 'a9a9a9',\n            darkkhaki: 'bdb76b',\n            darkmagenta: '8b008b',\n            darkolivegreen: '556b2f',\n            darkorange: 'ff8c00',\n            darkorchid: '9932cc',\n            darkred: '8b0000',\n            darksalmon: 'e9967a',\n            darkseagreen: '8fbc8f',\n            darkslateblue: '483d8b',\n            darkslategray: '2f4f4f',\n            darkslategrey: '2f4f4f',\n            darkturquoise: '00ced1',\n            darkviolet: '9400d3',\n            deeppink: 'ff1493',\n            deepskyblue: '00bfff',\n            dimgray: '696969',\n            dimgrey: '696969',\n            dodgerblue: '1e90ff',\n            firebrick: 'b22222',\n            floralwhite: 'fffaf0',\n            forestgreen: '228b22',\n            fuchsia: 'f0f',\n            gainsboro: 'dcdcdc',\n            ghostwhite: 'f8f8ff',\n            gold: 'ffd700',\n            goldenrod: 'daa520',\n            gray: '808080',\n            green: '008000',\n            greenyellow: 'adff2f',\n            grey: '808080',\n            honeydew: 'f0fff0',\n            hotpink: 'ff69b4',\n            indianred: 'cd5c5c',\n            indigo: '4b0082',\n            ivory: 'fffff0',\n            khaki: 'f0e68c',\n            lavender: 'e6e6fa',\n            lavenderblush: 'fff0f5',\n            lawngreen: '7cfc00',\n            lemonchiffon: 'fffacd',\n            lightblue: 'add8e6',\n            lightcoral: 'f08080',\n            lightcyan: 'e0ffff',\n            lightgoldenrodyellow: 'fafad2',\n            lightgray: 'd3d3d3',\n            lightgreen: '90ee90',\n            lightgrey: 'd3d3d3',\n            lightpink: 'ffb6c1',\n            lightsalmon: 'ffa07a',\n            lightseagreen: '20b2aa',\n            lightskyblue: '87cefa',\n            lightslategray: '789',\n            lightslategrey: '789',\n            lightsteelblue: 'b0c4de',\n            lightyellow: 'ffffe0',\n            lime: '0f0',\n            limegreen: '32cd32',\n            linen: 'faf0e6',\n            magenta: 'f0f',\n            maroon: '800000',\n            mediumaquamarine: '66cdaa',\n            mediumblue: '0000cd',\n            mediumorchid: 'ba55d3',\n            mediumpurple: '9370db',\n            mediumseagreen: '3cb371',\n            mediumslateblue: '7b68ee',\n            mediumspringgreen: '00fa9a',\n            mediumturquoise: '48d1cc',\n            mediumvioletred: 'c71585',\n            midnightblue: '191970',\n            mintcream: 'f5fffa',\n            mistyrose: 'ffe4e1',\n            moccasin: 'ffe4b5',\n            navajowhite: 'ffdead',\n            navy: '000080',\n            oldlace: 'fdf5e6',\n            olive: '808000',\n            olivedrab: '6b8e23',\n            orange: 'ffa500',\n            orangered: 'ff4500',\n            orchid: 'da70d6',\n            palegoldenrod: 'eee8aa',\n            palegreen: '98fb98',\n            paleturquoise: 'afeeee',\n            palevioletred: 'db7093',\n            papayawhip: 'ffefd5',\n            peachpuff: 'ffdab9',\n            peru: 'cd853f',\n            pink: 'ffc0cb',\n            plum: 'dda0dd',\n            powderblue: 'b0e0e6',\n            purple: '800080',\n            rebeccapurple: '663399',\n            red: 'f00',\n            rosybrown: 'bc8f8f',\n            royalblue: '4169e1',\n            saddlebrown: '8b4513',\n            salmon: 'fa8072',\n            sandybrown: 'f4a460',\n            seagreen: '2e8b57',\n            seashell: 'fff5ee',\n            sienna: 'a0522d',\n            silver: 'c0c0c0',\n            skyblue: '87ceeb',\n            slateblue: '6a5acd',\n            slategray: '708090',\n            slategrey: '708090',\n            snow: 'fffafa',\n            springgreen: '00ff7f',\n            steelblue: '4682b4',\n            tan: 'd2b48c',\n            teal: '008080',\n            thistle: 'd8bfd8',\n            tomato: 'ff6347',\n            turquoise: '40e0d0',\n            violet: 'ee82ee',\n            wheat: 'f5deb3',\n            white: 'fff',\n            whitesmoke: 'f5f5f5',\n            yellow: 'ff0',\n            yellowgreen: '9acd32'\n        };\n        var hexNames = tinycolor.hexNames = flip(names);\n        function flip(o) {\n            var flipped = {};\n            for (var i in o) {\n                if (o.hasOwnProperty(i)) {\n                    flipped[o[i]] = i;\n                }\n            }\n            return flipped;\n        }\n        function boundAlpha(a) {\n            a = parseFloat(a);\n            if (isNaN(a) || a < 0 || a > 1) {\n                a = 1;\n            }\n            return a;\n        }\n        function bound01(n, max) {\n            if (isOnePointZero(n)) {\n                n = '100%';\n            }\n            var processPercent = isPercentage(n);\n            n = mathMin(max, mathMax(0, parseFloat(n)));\n            if (processPercent) {\n                n = parseInt(n * max, 10) / 100;\n            }\n            if (math.abs(n - max) < 0.000001) {\n                return 1;\n            }\n            return n % max / parseFloat(max);\n        }\n        function clamp01(val) {\n            return mathMin(1, mathMax(0, val));\n        }\n        function parseIntFromHex(val) {\n            return parseInt(val, 16);\n        }\n        function isOnePointZero(n) {\n            return typeof n == 'string' && n.indexOf('.') != -1 && parseFloat(n) === 1;\n        }\n        function isPercentage(n) {\n            return typeof n === 'string' && n.indexOf('%') != -1;\n        }\n        function pad2(c) {\n            return c.length == 1 ? '0' + c : '' + c;\n        }\n        function convertToPercentage(n) {\n            if (n <= 1) {\n                n = n * 100 + '%';\n            }\n            return n;\n        }\n        function convertDecimalToHex(d) {\n            return Math.round(parseFloat(d) * 255).toString(16);\n        }\n        function convertHexToDecimal(h) {\n            return parseIntFromHex(h) / 255;\n        }\n        var matchers = function () {\n            var CSS_INTEGER = '[-\\\\+]?\\\\d+%?';\n            var CSS_NUMBER = '[-\\\\+]?\\\\d*\\\\.\\\\d+%?';\n            var CSS_UNIT = '(?:' + CSS_NUMBER + ')|(?:' + CSS_INTEGER + ')';\n            var PERMISSIVE_MATCH3 = '[\\\\s|\\\\(]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')\\\\s*\\\\)?';\n            var PERMISSIVE_MATCH4 = '[\\\\s|\\\\(]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')[,|\\\\s]+(' + CSS_UNIT + ')\\\\s*\\\\)?';\n            return {\n                rgb: new RegExp('rgb' + PERMISSIVE_MATCH3),\n                rgba: new RegExp('rgba' + PERMISSIVE_MATCH4),\n                hsl: new RegExp('hsl' + PERMISSIVE_MATCH3),\n                hsla: new RegExp('hsla' + PERMISSIVE_MATCH4),\n                hsv: new RegExp('hsv' + PERMISSIVE_MATCH3),\n                hsva: new RegExp('hsva' + PERMISSIVE_MATCH4),\n                hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n                hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n                hex8: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n            };\n        }();\n        function stringInputToObject(color) {\n            color = color.replace(trimLeft, '').replace(trimRight, '').toLowerCase();\n            var named = false;\n            if (names[color]) {\n                color = names[color];\n                named = true;\n            } else if (color == 'transparent') {\n                return {\n                    r: 0,\n                    g: 0,\n                    b: 0,\n                    a: 0,\n                    format: 'name'\n                };\n            }\n            var match;\n            if (match = matchers.rgb.exec(color)) {\n                return {\n                    r: match[1],\n                    g: match[2],\n                    b: match[3]\n                };\n            }\n            if (match = matchers.rgba.exec(color)) {\n                return {\n                    r: match[1],\n                    g: match[2],\n                    b: match[3],\n                    a: match[4]\n                };\n            }\n            if (match = matchers.hsl.exec(color)) {\n                return {\n                    h: match[1],\n                    s: match[2],\n                    l: match[3]\n                };\n            }\n            if (match = matchers.hsla.exec(color)) {\n                return {\n                    h: match[1],\n                    s: match[2],\n                    l: match[3],\n                    a: match[4]\n                };\n            }\n            if (match = matchers.hsv.exec(color)) {\n                return {\n                    h: match[1],\n                    s: match[2],\n                    v: match[3]\n                };\n            }\n            if (match = matchers.hsva.exec(color)) {\n                return {\n                    h: match[1],\n                    s: match[2],\n                    v: match[3],\n                    a: match[4]\n                };\n            }\n            if (match = matchers.hex8.exec(color)) {\n                return {\n                    a: convertHexToDecimal(match[1]),\n                    r: parseIntFromHex(match[2]),\n                    g: parseIntFromHex(match[3]),\n                    b: parseIntFromHex(match[4]),\n                    format: named ? 'name' : 'hex8'\n                };\n            }\n            if (match = matchers.hex6.exec(color)) {\n                return {\n                    r: parseIntFromHex(match[1]),\n                    g: parseIntFromHex(match[2]),\n                    b: parseIntFromHex(match[3]),\n                    format: named ? 'name' : 'hex'\n                };\n            }\n            if (match = matchers.hex3.exec(color)) {\n                return {\n                    r: parseIntFromHex(match[1] + '' + match[1]),\n                    g: parseIntFromHex(match[2] + '' + match[2]),\n                    b: parseIntFromHex(match[3] + '' + match[3]),\n                    format: named ? 'name' : 'hex'\n                };\n            }\n            return false;\n        }\n        window.tinycolor = tinycolor;\n        $(function () {\n            if ($.fn.spectrum.load) {\n                $.fn.spectrum.processNativeColorInputs();\n            }\n        });\n    };\n});"]}