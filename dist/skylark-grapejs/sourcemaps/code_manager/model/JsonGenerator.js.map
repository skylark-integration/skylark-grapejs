{"version":3,"sources":["code_manager/model/JsonGenerator.js"],"names":["define","a","Backbone","Model","extend","[object Object]","model","json","toJSON","this","beforeEach","each","v","attr","obj","build","Collection","coll","length","el","index","status"],"mappings":";;;;;;;AAAAA,QACI,qBACA,oBACD,SAAUC,EAAGC,GACZ,aACA,OAAOA,EAASC,MAAMC,QAClBC,MAAMC,GACF,IAAIC,EAAOD,EAAME,SAgBjB,OAfAC,KAAKC,WAAWH,GAChBN,EAAEU,KAAKJ,EAAM,SAAUK,EAAGC,GACtB,IAAIC,EAAMP,EAAKM,GACf,GAAIC,aAAeZ,EAASC,MACxBI,EAAKM,GAAQJ,KAAKM,MAAMD,QACrB,GAAIA,aAAeZ,EAASc,WAAY,CAC3C,IAAIC,EAAOH,EACXP,EAAKM,MACDI,EAAKC,QACLD,EAAKN,KAAK,SAAUQ,EAAIC,GACpBb,EAAKM,GAAMO,GAASX,KAAKM,MAAMI,IAChCV,QAGZA,MACIF,GAEXF,WAAWS,UACAA,EAAIO","file":"../../../code_manager/model/JsonGenerator.js","sourcesContent":["define([\n    'skylark-underscore',\n    'skylark-backbone'\n], function (a, Backbone) {\n    'use strict';\n    return Backbone.Model.extend({\n        build(model) {\n            var json = model.toJSON();\n            this.beforeEach(json);\n            a.each(json, function (v, attr) {\n                var obj = json[attr];\n                if (obj instanceof Backbone.Model) {\n                    json[attr] = this.build(obj);\n                } else if (obj instanceof Backbone.Collection) {\n                    var coll = obj;\n                    json[attr] = [];\n                    if (coll.length) {\n                        coll.each(function (el, index) {\n                            json[attr][index] = this.build(el);\n                        }, this);\n                    }\n                }\n            }, this);\n            return json;\n        },\n        beforeEach(obj) {\n            delete obj.status;\n        }\n    });\n});"]}