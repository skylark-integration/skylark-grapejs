{"version":3,"sources":["style_manager/model/PropertyComposite.js"],"names":["define","langx","Property","extend","defaults","prototype","detached","properties","separator","[object Object]","props","opts","callParentInit","this","get","Properties","require","default","set","listenTo","updateValues","callInit","each","property","clearValue","apply","arguments","values","getFullValue","split","getSplitSeparator","i","len","length","RegExp","defaultProps","value","prop","index","getDefaultValue","trim","at"],"mappings":";;;;;;;AAAAA,QACI,sBACA,cACD,SAAUC,EAAMC,GACf,aACA,OAAOA,EAASC,QACZC,aACOF,EAASG,UAAUD,SACtBE,SAAU,EACVC,cACAC,UAAW,KAEfC,WAAWC,KAAYC,MACnBT,EAASU,eAAeV,EAAUW,KAAMH,EAAOC,GAC/C,MAAMJ,EAAaM,KAAKC,IAAI,kBACtBC,EAAaC,QAAQ,gBAAgBC,QAC3CJ,KAAKK,IAAI,aAAc,IAAIH,EAAWR,IACtCM,KAAKM,SAASN,KAAM,eAAgBA,KAAKO,cACzClB,EAASmB,SAASR,KAAMH,EAAOC,IAEnCF,WAAWE,MAEP,OADAE,KAAKC,IAAI,cAAcQ,KAAKC,GAAYA,EAASC,cAC1CtB,EAASG,UAAUmB,WAAWC,MAAMZ,KAAMa,YAErDjB,eACI,MAAMkB,EAASd,KAAKe,eAAeC,MAAMhB,KAAKiB,qBAC9CjB,KAAKC,IAAI,cAAcQ,KAAK,CAACC,EAAUQ,KACnC,MAAMC,EAAML,EAAOM,OACLN,EAAOI,IAAMJ,EAAOI,EAAIC,GAAc,GAAPA,GAAYA,EAAM,EAAI,EAAI,OAG/EvB,oBACI,OAAO,IAAIyB,UAAWrB,KAAKC,IAAI,+BAEnCL,gBAAgB0B,GACZ,IAAIC,EAAQvB,KAAKC,IAAI,YACrB,GAAIsB,IAAUD,EACV,OAAOC,EAKX,OAHAA,EAAQ,GACWvB,KAAKC,IAAI,cACjBQ,KAAK,CAACe,EAAMC,IAAUF,MAAaC,EAAKE,sBAC5CH,EAAMI,QAEjB/B,eACI,OAAII,KAAKC,IAAI,YACF,GAEJD,KAAKC,IAAI,cAAcc,gBAElCnB,cAAc6B,GACV,OAAOzB,KAAKC,IAAI,cAAc2B,GAAGH","file":"../../../style_manager/model/PropertyComposite.js","sourcesContent":["define([\n    \"skylark-langx/langx\",\n    './Property'\n], function (langx,Property) {\n    'use strict';\n    return Property.extend({\n        defaults: {\n            ...Property.prototype.defaults,\n            detached: 0,\n            properties: [],\n            separator: ' '\n        },\n        initialize(props = {}, opts = {}) {\n            Property.callParentInit(Property, this, props, opts);\n            const properties = this.get('properties') || [];\n            const Properties = require('./Properties').default;\n            this.set('properties', new Properties(properties));\n            this.listenTo(this, 'change:value', this.updateValues);\n            Property.callInit(this, props, opts);\n        },\n        clearValue(opts = {}) {\n            this.get('properties').each(property => property.clearValue());\n            return Property.prototype.clearValue.apply(this, arguments);\n        },\n        updateValues() {\n            const values = this.getFullValue().split(this.getSplitSeparator());\n            this.get('properties').each((property, i) => {\n                const len = values.length;\n                const value = values[i] || values[i % len + (len != 1 && len % 2 ? 1 : 0)];\n            });\n        },\n        getSplitSeparator() {\n            return new RegExp(`${ this.get('separator') }(?![^\\\\(]*\\\\))`);\n        },\n        getDefaultValue(defaultProps) {\n            let value = this.get('defaults');\n            if (value && !defaultProps) {\n                return value;\n            }\n            value = '';\n            const properties = this.get('properties');\n            properties.each((prop, index) => value += `${ prop.getDefaultValue() } `);\n            return value.trim();\n        },\n        getFullValue() {\n            if (this.get('detached')) {\n                return '';\n            }\n            return this.get('properties').getFullValue();\n        },\n        getPropertyAt(index) {\n            return this.get('properties').at(index);\n        }\n    });\n});"]}