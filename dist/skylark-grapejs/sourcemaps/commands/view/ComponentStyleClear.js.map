{"version":3,"sources":["commands/view/ComponentStyleClear.js"],"names":["define","a","[object Object]","ed","sender","opts","target","dc","DomComponents","type","get","toRemove","getWrapper","find","length","rules","CssComposer","getAll","toClear","isArray","forEach","rule","selector","selectorsToString","part","indexOf","push","remove"],"mappings":";;;;;;;AAAAA,QAAQ,sBAAuB,SAAUC,GACrC,aACA,OACIC,IAAIC,EAAIC,EAAQC,MACZ,MAAMC,OAACA,GAAUD,EACXE,EAAKJ,EAAGK,cACRC,EAAOH,EAAOI,IAAI,QAElBC,KACN,IAFYJ,EAAGK,aAAaC,wBAAyBJ,OAAWK,OAEtD,CACN,MAAMC,EAAQZ,EAAGa,YAAYC,SAC7B,IAAIC,EAAUZ,EAAOI,IAAI,mBACzBQ,EAAUjB,EAAEkB,QAAQD,GAAWA,GAAWA,GAC1CH,EAAMK,QAAQC,IACV,MAAMC,EAAWD,EAAKE,oBACtBL,EAAQE,QAAQI,IACZA,GAAQF,EAASG,QAAQD,IAAS,GAAKb,EAASe,KAAKL,OAG7DN,EAAMY,OAAOhB,GAEjB,OAAOA","file":"../../../commands/view/ComponentStyleClear.js","sourcesContent":["define(['skylark-underscore'], function (a) {\n    'use strict';\n    return {\n        run(ed, sender, opts = {}) {\n            const {target} = opts;\n            const dc = ed.DomComponents;\n            const type = target.get('type');\n            const len = dc.getWrapper().find(`[data-gjs-type=\"${ type }\"]`).length;\n            const toRemove = [];\n            if (!len) {\n                const rules = ed.CssComposer.getAll();\n                let toClear = target.get('style-signature');\n                toClear = a.isArray(toClear) ? toClear : [toClear];\n                rules.forEach(rule => {\n                    const selector = rule.selectorsToString();\n                    toClear.forEach(part => {\n                        part && selector.indexOf(part) >= 0 && toRemove.push(rule);\n                    });\n                });\n                rules.remove(toRemove);\n            }\n            return toRemove;\n        }\n    };\n});"]}