{"version":3,"sources":["commands/view/DeleteComponent.js"],"names":["define","a","Backbone","SelectComponent","$","extend","[object Object]","o","bindAll","this","hoverClass","pfx","badgeClass","$el","find","mouseover","startDelete","mouseout","stopDelete","click","onDelete","e","stopPropagation","$this","target","data","get","addClass","attachBadge","removeClass","badge","css","left","top","destroy","removeBadge","clean","model","html","getName"],"mappings":";;;;;;;AAAAA,QACI,qBACA,mBACA,qBACD,SAAUC,EAAGC,EAAUC,GACtB,aACA,MAAMC,EAAIF,EAASE,EACnB,OAAOH,EAAEI,UAAWF,GAChBG,KAAKC,GACDN,EAAEO,QAAQC,KAAM,cAAe,aAAc,YAC7CA,KAAKC,WAAaD,KAAKE,IAAM,eAC7BF,KAAKG,WAAaH,KAAKE,IAAM,aAEjCL,SAEIG,KAAKI,IAAIC,KAAK,KAAKC,UAAUN,KAAKO,aAAaC,SAASR,KAAKS,YAAYC,MAAMV,KAAKW,WAExFd,YAAYe,GACRA,EAAEC,kBACF,IAAIC,EAAQnB,EAAEiB,EAAEG,QACZD,EAAME,KAAK,SAASC,IAAI,eACxBH,EAAMI,SAASlB,KAAKC,YACpBD,KAAKmB,YAAYL,EAAMG,IAAI,MAGnCpB,WAAWe,GACPA,EAAEC,kBACUlB,EAAEiB,EAAEG,QACVK,YAAYpB,KAAKC,YACnBD,KAAKqB,OACLrB,KAAKqB,MAAMC,KACPC,MAAO,IACPC,KAAM,OAGlB3B,SAASe,GACLA,EAAEC,kBACF,IAAIC,EAAQnB,EAAEiB,EAAEG,QACXD,EAAME,KAAK,SAASC,IAAI,eAE7BH,EAAME,KAAK,SAASS,UACpBzB,KAAK0B,cACL1B,KAAK2B,UAET9B,iBAAiB+B,GACb5B,KAAKqB,MAAMQ,KAAK,UAAYD,EAAME","file":"../../../commands/view/DeleteComponent.js","sourcesContent":["define([\n    'skylark-underscore',\n    'skylark-backbone',\n    './SelectComponent'\n], function (a, Backbone, SelectComponent) {\n    'use strict';\n    const $ = Backbone.$;\n    return a.extend({}, SelectComponent, {\n        init(o) {\n            a.bindAll(this, 'startDelete', 'stopDelete', 'onDelete');\n            this.hoverClass = this.pfx + 'hover-delete';\n            this.badgeClass = this.pfx + 'badge-red';\n        },\n        enable() {\n            var that = this;\n            this.$el.find('*').mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete);\n        },\n        startDelete(e) {\n            e.stopPropagation();\n            var $this = $(e.target);\n            if ($this.data('model').get('removable')) {\n                $this.addClass(this.hoverClass);\n                this.attachBadge($this.get(0));\n            }\n        },\n        stopDelete(e) {\n            e.stopPropagation();\n            var $this = $(e.target);\n            $this.removeClass(this.hoverClass);\n            if (this.badge)\n                this.badge.css({\n                    left: -1000,\n                    top: -1000\n                });\n        },\n        onDelete(e) {\n            e.stopPropagation();\n            var $this = $(e.target);\n            if (!$this.data('model').get('removable'))\n                return;\n            $this.data('model').destroy();\n            this.removeBadge();\n            this.clean();\n        },\n        updateBadgeLabel(model) {\n            this.badge.html('Remove ' + model.getName());\n        }\n    });\n});"]}