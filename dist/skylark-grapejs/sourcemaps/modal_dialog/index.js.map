{"version":3,"sources":["modal_dialog/index.js"],"names":["define","defaults","ModalM","ModalView","model","modal","c","name","getConfig","[object Object]","config","em","this","ppfx","pStylePrefix","stylePrefix","on","m","enb","enable","trigger","triggerEvent","view","el","render","appendTo","opts","title","setTitle","content","setContent","show","hide","clb","once","isOpen","get","set","getTitle","getContent","getContentEl","getModel","$el"],"mappings":";;;;;;;AAAAA,QACI,kBACA,gBACA,oBACD,SAAUC,EAAUC,EAAQC,GAC3B,aACA,MAAO,KACH,IACIC,EAAOC,EADPC,KAKJ,OACIC,KAAM,QACNC,UAAS,IACEF,EAEXG,KAAKC,MAKD,MAAMC,GAJNL,MACOL,KACAS,IAEMC,GACbC,KAAKD,GAAKA,EACV,IAAIE,EAAOP,EAAEQ,aASb,OARID,IACAP,EAAES,YAAcF,EAAOP,EAAES,cAC7BX,EAAQ,IAAIF,EAAOI,IACbU,GAAG,cAAe,CAACC,EAAGC,IAnBf,EAACC,EAAQR,KAC1BA,GAAMA,EAAGS,iBAAkBD,EAAS,OAAS,YAkBLE,CAAaH,EAAKP,IACtDN,EAAQ,IAAIF,GACRC,MAAAA,EACAM,OAAQJ,IAELM,MAEXH,WAAWa,GACP,MAAMC,EAAKD,EAAKlB,MAAMI,YAAYe,IAAMD,EAAKC,GAC7CX,KAAKY,SAASC,SAASF,IAE3Bd,KAAKiB,MAID,OAHAA,EAAKC,OAASf,KAAKgB,SAASF,EAAKC,OACjCD,EAAKG,SAAWjB,KAAKkB,WAAWJ,EAAKG,SACrCxB,EAAM0B,OACCnB,MAEXH,QAEI,OADAJ,EAAM2B,OACCpB,MAEXH,UAAUwB,GAEN,OADArB,KAAKD,GAAGuB,KAAK,cAAeD,GACrBrB,MAEXH,SAASwB,GAEL,OADArB,KAAKD,GAAGuB,KAAK,aAAcD,GACpBrB,MAEXuB,OAAM,MACO/B,EAAMgC,IAAI,QAEvB3B,SAASkB,GAEL,OADAvB,EAAMiC,IAAI,QAASV,GACZf,MAEX0B,SAAQ,IACGlC,EAAMgC,IAAI,SAErB3B,WAAWoB,GAGP,OAFAzB,EAAMiC,IAAI,UAAW,KACrBjC,EAAMiC,IAAI,UAAWR,GACdjB,MAEX2B,WAAU,IACCnC,EAAMgC,IAAI,WAErBI,aAAY,IACDnC,EAAMkC,aAAaH,IAAI,GAElCK,SAAQ,IACGrC,EAEXoB,OAAM,IACKnB,EAAMmB,SAASkB","file":"../../modal_dialog/index.js","sourcesContent":["define([\n    './config/config',\n    './model/Modal',\n    './view/ModalView'\n], function (defaults, ModalM, ModalView) {\n    'use strict';\n    return () => {\n        var c = {};\n        var model, modal;\n        const triggerEvent = (enable, em) => {\n            em && em.trigger(`modal:${ enable ? 'open' : 'close' }`);\n        };\n        return {\n            name: 'Modal',\n            getConfig() {\n                return c;\n            },\n            init(config = {}) {\n                c = {\n                    ...defaults,\n                    ...config\n                };\n                const em = c.em;\n                this.em = em;\n                var ppfx = c.pStylePrefix;\n                if (ppfx)\n                    c.stylePrefix = ppfx + c.stylePrefix;\n                model = new ModalM(c);\n                model.on('change:open', (m, enb) => triggerEvent(enb, em));\n                modal = new ModalView({\n                    model,\n                    config: c\n                });\n                return this;\n            },\n            postRender(view) {\n                const el = view.model.getConfig().el || view.el;\n                this.render().appendTo(el);\n            },\n            open(opts = {}) {\n                opts.title && this.setTitle(opts.title);\n                opts.content && this.setContent(opts.content);\n                modal.show();\n                return this;\n            },\n            close() {\n                modal.hide();\n                return this;\n            },\n            onceClose(clb) {\n                this.em.once('modal:close', clb);\n                return this;\n            },\n            onceOpen(clb) {\n                this.em.once('modal:open', clb);\n                return this;\n            },\n            isOpen() {\n                return !!model.get('open');\n            },\n            setTitle(title) {\n                model.set('title', title);\n                return this;\n            },\n            getTitle() {\n                return model.get('title');\n            },\n            setContent(content) {\n                model.set('content', ' ');\n                model.set('content', content);\n                return this;\n            },\n            getContent() {\n                return model.get('content');\n            },\n            getContentEl() {\n                return modal.getContent().get(0);\n            },\n            getModel() {\n                return model;\n            },\n            render() {\n                return modal.render().$el;\n            }\n        };\n    };\n});"]}