/**
 * skylark-grapejs - A version of garpejs that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-grapejs/
 * @license MIT
 */
define([],function(){var e,n={},t={16:!1,18:!1,17:!1,91:!1},o="all",r={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},i={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},l=function(e){return i[e]||e.toUpperCase().charCodeAt(0)},a=[];for(e=1;e<20;e++)i["f"+e]=111+e;function c(e,n){for(var t=e.length;t--;)if(e[t]===n)return t;return-1}var f={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function u(n){for(e in t)t[e]=n[f[e]]}function s(e,t,o){var r,i;r=p(e),void 0===o&&(o=t,t="all");for(var a=0;a<r.length;a++)i=[],(e=r[a].split("+")).length>1&&(i=h(e),e=[e[e.length-1]]),e=e[0],(e=l(e))in n||(n[e]=[]),n[e].push({shortcut:r[a],scope:t,method:o,key:r[a],mods:i})}for(e in r)s[e]=!1;function d(){return o||"all"}function p(e){var n;return""==(n=(e=e.replace(/\s/g,"")).split(","))[n.length-1]&&(n[n.length-2]+=","),n}function h(e){for(var n=e.slice(0,e.length-1),t=0;t<n.length;t++)n[t]=r[n[t]];return n}function g(e,n,t){e.addEventListener?e.addEventListener(n,t,!1):e.attachEvent&&e.attachEvent("on"+n,function(){t(window.event)})}g(document,"keydown",function(e){!function(e){var o,i,l,f,p,h;if(o=e.keyCode,-1==c(a,o)&&a.push(o),93!=o&&224!=o||(o=91),o in t)for(l in t[o]=!0,r)r[l]==o&&(s[l]=!0);else if(u(e),s.filter.call(this,e)&&o in n)for(h=d(),f=0;f<n[o].length;f++)if((i=n[o][f]).scope==h||"all"==i.scope){for(l in p=i.mods.length>0,t)(!t[l]&&c(i.mods,+l)>-1||t[l]&&-1==c(i.mods,+l))&&(p=!1);(0!=i.mods.length||t[16]||t[18]||t[17]||t[91])&&!p||!1===i.method(e,i)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}(e)}),g(document,"keyup",function(e){var n,o=e.keyCode,i=c(a,o);if(i>=0&&a.splice(i,1),93!=o&&224!=o||(o=91),o in t)for(n in t[o]=!1,r)r[n]==o&&(s[n]=!1)}),g(window,"focus",function(){for(e in t)t[e]=!1;for(e in r)s[e]=!1});global.key;return s});
//# sourceMappingURL=../sourcemaps/keymaps/keymaster.js.map
